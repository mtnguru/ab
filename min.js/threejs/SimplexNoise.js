var SimplexNoise=function(t){void 0==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(r=0;r<256;r++)this.p[r]=Math.floor(256*t.random());this.perm=[];for(var r=0;r<512;r++)this.perm[r]=this.p[255&r];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]};SimplexNoise.prototype.dot=function(t,r,i){return t[0]*r+t[1]*i},SimplexNoise.prototype.dot3=function(t,r,i,o){return t[0]*r+t[1]*i+t[2]*o},SimplexNoise.prototype.dot4=function(t,r,i,o,s){return t[0]*r+t[1]*i+t[2]*o+t[3]*s},SimplexNoise.prototype.noise=function(t,r){var i,o,s,h,e,p=(t+r)*(.5*(Math.sqrt(3)-1)),a=Math.floor(t+p),m=Math.floor(r+p),d=(3-Math.sqrt(3))/6,n=(a+m)*d,f=t-(a-n),l=r-(m-n);f>l?(h=1,e=0):(h=0,e=1);var v=f-h+d,M=l-e+d,u=f-1+2*d,g=l-1+2*d,x=255&a,c=255&m,N=this.perm[x+this.perm[c]]%12,S=this.perm[x+h+this.perm[c+e]]%12,y=this.perm[x+1+this.perm[c+1]]%12,q=.5-f*f-l*l;i=q<0?0:(q*=q)*q*this.dot(this.grad3[N],f,l);var b=.5-v*v-M*M;o=b<0?0:(b*=b)*b*this.dot(this.grad3[S],v,M);var j=.5-u*u-g*g;return s=j<0?0:(j*=j)*j*this.dot(this.grad3[y],u,g),70*(i+o+s)},SimplexNoise.prototype.noise3d=function(t,r,i){var o,s,h,e,p,a,m,d,n,f,l=(t+r+i)*(1/3),v=Math.floor(t+l),M=Math.floor(r+l),u=Math.floor(i+l),g=1/6,x=(v+M+u)*g,c=t-(v-x),N=r-(M-x),S=i-(u-x);c>=N?N>=S?(p=1,a=0,m=0,d=1,n=1,f=0):c>=S?(p=1,a=0,m=0,d=1,n=0,f=1):(p=0,a=0,m=1,d=1,n=0,f=1):N<S?(p=0,a=0,m=1,d=0,n=1,f=1):c<S?(p=0,a=1,m=0,d=0,n=1,f=1):(p=0,a=1,m=0,d=1,n=1,f=0);var y=c-p+g,q=N-a+g,b=S-m+g,j=c-d+2*g,k=N-n+2*g,w=S-f+2*g,z=c-1+.5,A=N-1+.5,B=S-1+.5,C=255&v,D=255&M,E=255&u,F=this.perm[C+this.perm[D+this.perm[E]]]%12,G=this.perm[C+p+this.perm[D+a+this.perm[E+m]]]%12,H=this.perm[C+d+this.perm[D+n+this.perm[E+f]]]%12,I=this.perm[C+1+this.perm[D+1+this.perm[E+1]]]%12,J=.6-c*c-N*N-S*S;o=J<0?0:(J*=J)*J*this.dot3(this.grad3[F],c,N,S);var K=.6-y*y-q*q-b*b;s=K<0?0:(K*=K)*K*this.dot3(this.grad3[G],y,q,b);var L=.6-j*j-k*k-w*w;h=L<0?0:(L*=L)*L*this.dot3(this.grad3[H],j,k,w);var O=.6-z*z-A*A-B*B;return e=O<0?0:(O*=O)*O*this.dot3(this.grad3[I],z,A,B),32*(o+s+h+e)},SimplexNoise.prototype.noise4d=function(t,r,i,o){var s,h,e,p,a,m,d,n,f,l,v,M,u,g,x,c,N,S=this.grad4,y=this.simplex,q=this.perm,b=(Math.sqrt(5)-1)/4,j=(5-Math.sqrt(5))/20,k=(t+r+i+o)*b,w=Math.floor(t+k),z=Math.floor(r+k),A=Math.floor(i+k),B=Math.floor(o+k),C=(w+z+A+B)*j,D=t-(w-C),E=r-(z-C),F=i-(A-C),G=o-(B-C),H=(D>E?32:0)+(D>F?16:0)+(E>F?8:0)+(D>G?4:0)+(E>G?2:0)+(F>G?1:0),I=D-(m=y[H][0]>=3?1:0)+j,J=E-(d=y[H][1]>=3?1:0)+j,K=F-(n=y[H][2]>=3?1:0)+j,L=G-(f=y[H][3]>=3?1:0)+j,O=D-(l=y[H][0]>=2?1:0)+2*j,P=E-(v=y[H][1]>=2?1:0)+2*j,Q=F-(M=y[H][2]>=2?1:0)+2*j,R=G-(u=y[H][3]>=2?1:0)+2*j,T=D-(g=y[H][0]>=1?1:0)+3*j,U=E-(x=y[H][1]>=1?1:0)+3*j,V=F-(c=y[H][2]>=1?1:0)+3*j,W=G-(N=y[H][3]>=1?1:0)+3*j,X=D-1+4*j,Y=E-1+4*j,Z=F-1+4*j,$=G-1+4*j,_=255&w,tt=255&z,rt=255&A,it=255&B,ot=q[_+q[tt+q[rt+q[it]]]]%32,st=q[_+m+q[tt+d+q[rt+n+q[it+f]]]]%32,ht=q[_+l+q[tt+v+q[rt+M+q[it+u]]]]%32,et=q[_+g+q[tt+x+q[rt+c+q[it+N]]]]%32,pt=q[_+1+q[tt+1+q[rt+1+q[it+1]]]]%32,at=.6-D*D-E*E-F*F-G*G;s=at<0?0:(at*=at)*at*this.dot4(S[ot],D,E,F,G);var mt=.6-I*I-J*J-K*K-L*L;h=mt<0?0:(mt*=mt)*mt*this.dot4(S[st],I,J,K,L);var dt=.6-O*O-P*P-Q*Q-R*R;e=dt<0?0:(dt*=dt)*dt*this.dot4(S[ht],O,P,Q,R);var nt=.6-T*T-U*U-V*V-W*W;p=nt<0?0:(nt*=nt)*nt*this.dot4(S[et],T,U,V,W);var ft=.6-X*X-Y*Y-Z*Z-$*$;return a=ft<0?0:(ft*=ft)*ft*this.dot4(S[pt],X,Y,Z,$),27*(s+h+e+p+a)};
//# sourceMappingURL=../maps/threejs/SimplexNoise.js.map
