{"version":3,"sources":["threejs/ViveController.js"],"names":["THREE","ViveController","id","update","requestAnimationFrame","gamepad","navigator","getGamepads","undefined","pose","scope","position","fromArray","quaternion","orientation","matrix","compose","scale","multiplyMatrices","standingMatrix","matrixWorldNeedsUpdate","visible","Object3D","call","this","matrixAutoUpdate","Matrix4","prototype","Object","create","constructor"],"mappings":"AAAAA,MAAMC,eAAiB,SAAWC,GASjC,SAASC,IAERC,sBAAuBD,GAEvB,IAAIE,EAAUC,UAAUC,cAAeL,GAEvC,QAAiBM,IAAZH,GAA0C,OAAjBA,EAAQI,KAAgB,CAErD,IAAIA,EAAOJ,EAAQI,KAEnBC,EAAMC,SAASC,UAAWH,EAAKE,UAC/BD,EAAMG,WAAWD,UAAWH,EAAKK,aACjCJ,EAAMK,OAAOC,QAASN,EAAMC,SAAUD,EAAMG,WAAYH,EAAMO,OAC9DP,EAAMK,OAAOG,iBAAkBR,EAAMS,eAAgBT,EAAMK,QAC3DL,EAAMU,wBAAyB,EAE/BV,EAAMW,SAAU,OAIhBX,EAAMW,SAAU,EA3BlBrB,MAAMsB,SAASC,KAAMC,MAErBA,KAAKC,kBAAmB,EACxBD,KAAKL,eAAiB,IAAInB,MAAM0B,QAEhC,IAAIhB,EAAQc,KA4BZrB,KAIDH,MAAMC,eAAe0B,UAAYC,OAAOC,OAAQ7B,MAAMsB,SAASK,WAC/D3B,MAAMC,eAAe0B,UAAUG,YAAc9B,MAAMC","file":"../../threejs/ViveController.js","sourcesContent":["THREE.ViveController = function ( id ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.matrixAutoUpdate = false;\n\tthis.standingMatrix = new THREE.Matrix4();\n\n\tvar scope = this;\n\n\tfunction update() {\n\n\t\trequestAnimationFrame( update );\n\n\t\tvar gamepad = navigator.getGamepads()[ id ];\n\n\t\tif ( gamepad !== undefined && gamepad.pose !== null ) {\n\n\t\t\tvar pose = gamepad.pose;\n\n\t\t\tscope.position.fromArray( pose.position );\n\t\t\tscope.quaternion.fromArray( pose.orientation );\n\t\t\tscope.matrix.compose( scope.position, scope.quaternion, scope.scale );\n\t\t\tscope.matrix.multiplyMatrices( scope.standingMatrix, scope.matrix );\n\t\t\tscope.matrixWorldNeedsUpdate = true;\n\n\t\t\tscope.visible = true;\n\n\t\t} else {\n\n\t\t\tscope.visible = false;\n\n\t\t}\n\n\t}\n\n\tupdate();\n\n};\n\nTHREE.ViveController.prototype = Object.create( THREE.Object3D.prototype );\nTHREE.ViveController.prototype.constructor = THREE.ViveController;\n"]}