var _0x2896=['log','toLowerCase','replace','add','now','ctrlKey','object','objectStartPosition','parent','position','dir_molecule','setPositionSliders','mouse:\x20','keys','length','hasOwnProperty','mode','none','atomsMove','visibleParticles','protonsAdd','optionalProtons','protonsColor','visibleProtons','inner-faces','hoverInnerFaces','hoverOuterFaces','changeControlsMode','prod_scene::setControlsObject','nuclet','atom','copy','objectStartRotation','rotation','changeControlsSettings','preventDefault','dir_atom','mouseUp','which','outer-faces','render','hovered:\x20','intersects','mouseMove','base','/ajax/loadMolecule','command','loadMoleculeCommand','conf','nid','information','link','html','properties','labels','display','atomizer_scene_nid','moleculeLoaded','loadObject','toRadians','Object3D','name','objectShell','needsPosition','getContext','nucletC','atomC','shapesC','sprites','animation','animationC','snapshot','snapshotC','dir_atomC','atom_select','#select-molecule-wrapper\x20.select-item-wrapper\x20a','target','closest','data','getItem','undefined','az-hidden','mouse','find','input[name=mouse]:checked','mode:\x20','value','removeClass','addClass','#proton-original-color','selected','protonColor','original','.proton-color','attr','split','getColor','proton-','css','background-color','hex','click','input','prop','checked','val','explode','type','concat','intersect','visibleNElectrons','atomizer','.scene--name,\x20.az-scene-name,\x20.az-canvas-labels','context','.scene--information','controls','mouseMode','electronsAdd','objects','scene','deleteObject'];(function(_0x48e59a,_0x36e861){var _0x1b1e54=function(_0xc1b980){while(--_0xc1b980){_0x48e59a['push'](_0x48e59a['shift']());}};_0x1b1e54(++_0x36e861);}(_0x2896,0x161));var _0xdc0b=function(_0x23b40c,_0xbdbca4){_0x23b40c=_0x23b40c-0x0;var _0x47af39=_0x2896[_0x23b40c];return _0x47af39;};(function(_0x56c4bc){Drupal[_0xdc0b('0x0')]['prod_sceneC']=function(_0x452357){let _0x48ce28=_0x452357;let _0x1fc18a;let _0x72253c;var _0x430a85=_0x56c4bc(_0xdc0b('0x1'),_0x48ce28[_0xdc0b('0x2')]);var _0x20d18f=_0x56c4bc(_0xdc0b('0x3'),_0x48ce28[_0xdc0b('0x2')]);var _0x19d1b9=_0x56c4bc('.scene--properties',_0x48ce28['context']);_0x48ce28['objects']={};let _0x306ce9={};let _0x19bc12=![];var _0x2bddf3=_0x56c4bc('#edit-proton-colors--wrapper',_0x48ce28[_0xdc0b('0x2')]);_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x5')](_0xdc0b('0x6'));const _0x24d2d6=_0x44d175=>{let _0x5116f0=_0x48ce28[_0xdc0b('0x7')][_0x44d175];if(_0x5116f0){_0x48ce28[_0xdc0b('0x8')]['remove'](_0x5116f0);_0x48ce28[_0x5116f0['name']][_0xdc0b('0x9')](_0x5116f0);delete _0x48ce28[_0xdc0b('0x7')][_0x5116f0['az']['id']];}else{console[_0xdc0b('0xa')]('Could\x20not\x20delete\x20object\x20-\x20not\x20found:\x20'+_0x44d175);}};const _0x4d0f87=_0x10ab96=>{let _0x462f83=0x0;let _0x210241;do{_0x210241=_0x10ab96[_0xdc0b('0xb')]()[_0xdc0b('0xc')]('\x20','-')+'-'+ ++_0x462f83;}while(_0x48ce28[_0xdc0b('0x7')][_0x210241]);return _0x210241;};const _0x54e946=_0x2d7030=>{_0x48ce28['objects'][_0x2d7030['az']['id']]=_0x2d7030;_0x48ce28[_0xdc0b('0x8')][_0xdc0b('0xd')](_0x2d7030['parent']);};const _0x376e17=_0x1d6b70=>_0x48ce28[_0xdc0b('0x7')][_0x1d6b70];const _0x45167c=(_0x1ab956,_0x51f5e6)=>{let _0x7c3152=0x2bc*(_0x51f5e6[_0xdc0b('0xe')]['x']-_0x51f5e6['down']['x']);let _0x420531=0x2bc*(_0x51f5e6[_0xdc0b('0xe')]['y']-_0x51f5e6['down']['y']);if(_0x1ab956[_0xdc0b('0xf')]){_0x51f5e6[_0xdc0b('0x10')]['parent']['position']['z']=_0x51f5e6[_0xdc0b('0x11')]['z']-_0x7c3152;_0x51f5e6[_0xdc0b('0x10')][_0xdc0b('0x12')]['position']['y']=_0x51f5e6['objectStartPosition']['y']+_0x420531;}else if(_0x1ab956['shiftKey']){_0x51f5e6[_0xdc0b('0x10')][_0xdc0b('0x12')]['position']['x']=_0x51f5e6[_0xdc0b('0x11')]['x']-_0x7c3152;_0x51f5e6[_0xdc0b('0x10')][_0xdc0b('0x12')][_0xdc0b('0x13')]['z']=_0x51f5e6[_0xdc0b('0x11')]['z']+_0x420531;}else{_0x51f5e6[_0xdc0b('0x10')][_0xdc0b('0x12')][_0xdc0b('0x13')]['x']=_0x51f5e6[_0xdc0b('0x11')]['x']-_0x7c3152;_0x51f5e6[_0xdc0b('0x10')][_0xdc0b('0x12')][_0xdc0b('0x13')]['y']=_0x51f5e6[_0xdc0b('0x11')]['y']+_0x420531;}_0x48ce28[_0xdc0b('0x14')][_0xdc0b('0x15')](_0x51f5e6[_0xdc0b('0x10')]);console[_0xdc0b('0xa')](_0xdc0b('0x16')+_0x51f5e6['now']['x']+'\x20'+_0x51f5e6['now']['y']);_0x48ce28['render']();};const _0x41492f=()=>{var _0x549bba=Object[_0xdc0b('0x17')](_0x48ce28[_0xdc0b('0x7')]);if(_0x549bba[_0xdc0b('0x18')]){for(let _0x4ab4c2 in _0x48ce28[_0xdc0b('0x7')]){if(_0x48ce28[_0xdc0b('0x7')][_0xdc0b('0x19')](_0x4ab4c2)){_0x24d2d6(_0x4ab4c2);}}}};var _0x5ab73a=function _0x5ab73a(_0x59aad4){switch(_0x59aad4[_0xdc0b('0x1a')]){case _0xdc0b('0x1b'):return null;case _0xdc0b('0x1c'):return _0x306ce9[_0xdc0b('0x1d')];case _0xdc0b('0x6'):return _0x306ce9[_0xdc0b('0x1d')];case _0xdc0b('0x1e'):return _0x306ce9[_0xdc0b('0x1f')];case _0xdc0b('0x20'):return _0x306ce9[_0xdc0b('0x21')];case _0xdc0b('0x22'):return _0x306ce9[_0xdc0b('0x23')];case'outer-faces':return _0x306ce9[_0xdc0b('0x24')];}};const _0x4a89bc=(_0x28f4eb,_0x3b1569)=>{if(_0x3b1569){_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x25')](_0xdc0b('0x26'),'none');}else{_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x25')](_0xdc0b('0x26'),'scene');}};const _0x55d656=_0x156f17=>{if(!_0x156f17[_0xdc0b('0x18')])return null;if(_0x156f17[0x0]['object']['az'])return _0x156f17[0x0][_0xdc0b('0x10')]['az'][_0xdc0b('0x27')][_0xdc0b('0x28')];return _0x156f17[0x0]['object'][_0xdc0b('0x12')][_0xdc0b('0x12')][_0xdc0b('0x12')]['az'][_0xdc0b('0x28')];};const _0x1496b7=(_0x4041bd,_0x4f2620)=>{if(_0x4f2620){_0x4041bd['object']=_0x4f2620;_0x4041bd['objectStartPosition'][_0xdc0b('0x29')](_0x4f2620[_0xdc0b('0x12')]['position']);_0x4041bd[_0xdc0b('0x2a')]['copy'](_0x4f2620[_0xdc0b('0x2b')]);_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x2c')]({'enablePan':![]});}else{_0x4041bd['object']=null;_0x48ce28['controls'][_0xdc0b('0x2c')]({'enablePan':!![]});}};const _0x19abcf=(_0x4e962e,_0x30abef)=>{_0x4e962e[_0xdc0b('0x2d')]();_0x19bc12=![];if(_0x30abef[_0xdc0b('0x1a')]==_0xdc0b('0x1c')){switch(_0x4e962e['which']){case 0x1:break;case 0x2:break;case 0x3:_0x30abef[_0xdc0b('0x10')]=null;break;}}else{_0x48ce28[_0xdc0b('0x2e')][_0xdc0b('0x2f')](_0x4e962e,_0x30abef);}};const _0x5b1f01=(_0x37f104,_0x468a1d)=>{_0x37f104[_0xdc0b('0x2d')]();_0x19bc12=!![];switch(_0x468a1d[_0xdc0b('0x1a')]){case'none':return null;case _0xdc0b('0x1c'):let _0x4d988e=_0x55d656(_0x48ce28[_0xdc0b('0x4')]['findIntersects'](_0x306ce9[_0xdc0b('0x1d')]));switch(_0x37f104[_0xdc0b('0x30')]){case 0x1:break;case 0x2:_0x48ce28[_0xdc0b('0x14')]['setEditAtom'](_0x4d988e);break;case 0x3:_0x1496b7(_0x468a1d,_0x4d988e);break;}break;case _0xdc0b('0x6'):case'protonsAdd':case'protonsColor':case'inner-faces':case _0xdc0b('0x31'):_0x48ce28[_0xdc0b('0x2e')]['mouseDown'](_0x37f104,_0x468a1d);break;}_0x48ce28[_0xdc0b('0x32')]();};let _0x125db1=(_0x57d8dd,_0xf88649)=>{if(_0xf88649[_0xdc0b('0x10')]){_0x57d8dd['preventDefault']();_0x45167c(_0x57d8dd,_0xf88649);}else{if(_0xf88649['intersects']){console[_0xdc0b('0xa')](_0xdc0b('0x33')+_0xf88649[_0xdc0b('0x34')][_0xdc0b('0x18')]);}switch(_0xf88649[_0xdc0b('0x1a')]){case _0xdc0b('0x1b'):return null;case'atomsMove':if(!_0x19bc12){}_0x48ce28['dir_atom'][_0xdc0b('0x35')](_0x57d8dd,_0xf88649);break;case'electronsAdd':case'protonsAdd':case _0xdc0b('0x20'):case _0xdc0b('0x22'):case'outer-faces':_0x48ce28[_0xdc0b('0x2e')]['mouseMove'](_0x57d8dd,_0xf88649);break;}}};const _0xaf73e=function(_0x57286a){Drupal[_0xdc0b('0x0')][_0xdc0b('0x36')]['doAjax'](_0xdc0b('0x37'),{'conf':_0x57286a},_0x392cf3);};const _0x392cf3=function(_0x1bdb7c){for(var _0x8245b4=0x0;_0x8245b4<_0x1bdb7c[_0xdc0b('0x18')];_0x8245b4++){if(_0x1bdb7c[_0x8245b4][_0xdc0b('0x38')]==_0xdc0b('0x39')){_0x41492f();_0x5df576();_0x48ce28[_0xdc0b('0x32')]();_0x48ce28['objects']={};let _0x31c02b=_0x1bdb7c[_0x8245b4]['data'];_0x48ce28['scene']['az']={'conf':_0x31c02b[_0xdc0b('0x3a')],'title':_0x31c02b['title'],'name':_0x31c02b['name'],'sceneNid':_0x31c02b[_0xdc0b('0x3b')],'properties':_0x31c02b['properties'],'information':_0x31c02b[_0xdc0b('0x3c')],'link':_0x31c02b[_0xdc0b('0x3d')]};if(_0x430a85){_0x430a85[_0xdc0b('0x3e')](_0x31c02b['title']);}if(_0x20d18f&&_0x31c02b[_0xdc0b('0x3c')]){_0x20d18f['html'](_0x31c02b[_0xdc0b('0x3c')]);}if(_0x19d1b9&&_0x31c02b[_0xdc0b('0x3f')]){_0x19d1b9[_0xdc0b('0x3e')](_0x31c02b[_0xdc0b('0x3f')]);}_0x48ce28[_0xdc0b('0x40')][_0xdc0b('0x41')]();localStorage['setItem'](_0xdc0b('0x42'),_0x31c02b[_0xdc0b('0x3a')][_0xdc0b('0x3b')]);_0x48ce28[_0xdc0b('0x14')][_0xdc0b('0x43')](_0x48ce28[_0xdc0b('0x8')]);objects={};for(let _0x42e9e1 in _0x31c02b[_0xdc0b('0x3a')][_0xdc0b('0x7')]){let _0x4e1e90=_0x31c02b[_0xdc0b('0x3a')][_0xdc0b('0x7')][_0x42e9e1];_0x4e1e90['id']=_0x42e9e1;_0x48ce28[_0x4e1e90['type']][_0xdc0b('0x44')](_0x4e1e90);}}}};var _0x5f32b3=function(_0x1b5659){_0x1b5659['az']['id']=_0x1b5659['az'][_0xdc0b('0x3a')]['id'];if(_0x1b5659['az'][_0xdc0b('0x3a')][_0xdc0b('0x2b')]){_0x1b5659[_0xdc0b('0x2b')]['x']=parseInt(Drupal[_0xdc0b('0x0')][_0xdc0b('0x36')][_0xdc0b('0x45')](_0x1b5659['az'][_0xdc0b('0x3a')][_0xdc0b('0x2b')][0x0]));_0x1b5659[_0xdc0b('0x2b')]['y']=parseInt(Drupal[_0xdc0b('0x0')][_0xdc0b('0x36')][_0xdc0b('0x45')](_0x1b5659['az']['conf']['rotation'][0x1]));_0x1b5659[_0xdc0b('0x2b')]['z']=parseInt(Drupal[_0xdc0b('0x0')]['base'][_0xdc0b('0x45')](_0x1b5659['az'][_0xdc0b('0x3a')][_0xdc0b('0x2b')][0x2]));}let _0x45d9a5=new THREE[(_0xdc0b('0x46'))]();_0x45d9a5[_0xdc0b('0x47')]=_0xdc0b('0x48');if(_0x1b5659['az']['conf'][_0xdc0b('0x13')]){_0x45d9a5[_0xdc0b('0x13')]['set'](..._0x1b5659['az'][_0xdc0b('0x3a')]['position']);}_0x45d9a5[_0xdc0b('0xd')](_0x1b5659);_0x54e946(_0x1b5659);_0x48ce28['dir_molecule']['objectLoaded'](_0x1b5659);_0x48ce28[_0xdc0b('0x2e')]['objectLoaded'](_0x1b5659);if(_0x1b5659['az'][_0xdc0b('0x3a')][_0xdc0b('0x49')]){_0x1496b7(_0x48ce28['controls']['mouse'],_0x1b5659);}_0x48ce28[_0xdc0b('0x32')]();};let _0x4de260=function(){let _0x361dcc=_0x48ce28['canvas'][_0xdc0b('0x4a')]('2d');_0x48ce28[_0xdc0b('0x27')]=Drupal[_0xdc0b('0x0')][_0xdc0b('0x4b')](_0x48ce28);_0x48ce28[_0xdc0b('0x28')]=Drupal[_0xdc0b('0x0')][_0xdc0b('0x4c')](_0x48ce28);_0x48ce28['shapes']=Drupal['atomizer'][_0xdc0b('0x4d')](_0x48ce28);_0x48ce28[_0xdc0b('0x4e')]=Drupal[_0xdc0b('0x0')]['spritesC'](_0x48ce28);_0x48ce28[_0xdc0b('0x40')]=Drupal[_0xdc0b('0x0')]['labelsC'](_0x48ce28);_0x48ce28[_0xdc0b('0x4f')]=Drupal[_0xdc0b('0x0')][_0xdc0b('0x50')](_0x48ce28);_0x48ce28[_0xdc0b('0x51')]=Drupal['atomizer'][_0xdc0b('0x52')](_0x48ce28);_0x48ce28['dir_atom']=Drupal['atomizer'][_0xdc0b('0x53')](_0x48ce28);_0x48ce28[_0xdc0b('0x54')]=Drupal[_0xdc0b('0x0')]['atom_selectC'](_0x48ce28,![]);_0x48ce28['dir_molecule']=Drupal[_0xdc0b('0x0')]['dir_moleculeC'](_0x48ce28);let _0x4b3ae5=_0x56c4bc('#select-molecule-wrapper\x20.select-item-wrapper\x20a');_0x56c4bc(_0xdc0b('0x55'))['click'](_0x69f7ea=>{let _0x3d3f57=_0x56c4bc(_0x69f7ea[_0xdc0b('0x56')])[_0xdc0b('0x57')]('a');let _0x4d341b=_0x3d3f57[_0xdc0b('0x58')](_0xdc0b('0x3b'));_0xaf73e({'nid':_0x4d341b});});_0x72253c=localStorage[_0xdc0b('0x59')]('atomizer_scene_nid');_0x72253c=!_0x72253c||_0x72253c==_0xdc0b('0x5a')?0x523:_0x72253c;_0xaf73e({'nid':_0x72253c});};const _0xa5459b=()=>{var _0x546bdd=_0x56c4bc('#blocks--mouse-mode',_0x48ce28[_0xdc0b('0x2')]);_0x2bddf3['addClass'](_0xdc0b('0x5b'));if(_0x546bdd[_0xdc0b('0x18')]){_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x5c')][_0xdc0b('0x1a')]=_0x546bdd[_0xdc0b('0x5d')](_0xdc0b('0x5e'))['val']();var _0x5bf17a=_0x546bdd['find']('#edit-mouse--wrapper\x20input');_0x5bf17a['click'](function(_0x1bd041){console[_0xdc0b('0xa')](_0xdc0b('0x5f')+_0x1bd041['target'][_0xdc0b('0x60')]);mouse['mode']=_0x1bd041[_0xdc0b('0x56')][_0xdc0b('0x60')];if(mouse[_0xdc0b('0x1a')]=='protonsColor'){_0x2bddf3[_0xdc0b('0x61')](_0xdc0b('0x5b'));}else{_0x2bddf3[_0xdc0b('0x62')]('az-hidden');}});_0x546bdd[_0xdc0b('0x5d')](_0xdc0b('0x63'))['addClass'](_0xdc0b('0x64'));_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x5c')][_0xdc0b('0x65')]=_0xdc0b('0x66');var _0x87ac70=_0x546bdd[_0xdc0b('0x5d')](_0xdc0b('0x67'));_0x87ac70['each'](function(){var _0x4cd4d0=_0x56c4bc(this)[_0xdc0b('0x68')]('id')[_0xdc0b('0x69')]('-')[0x1];if(_0x4cd4d0!=_0xdc0b('0x66')){var _0x3a7cf5=_0x48ce28['theme'][_0xdc0b('0x6a')](_0xdc0b('0x6b')+_0x4cd4d0+'--color','lighten');_0x56c4bc(this)[_0xdc0b('0x6c')](_0xdc0b('0x6d'),_0x3a7cf5[_0xdc0b('0x6e')]);}});_0x87ac70[_0xdc0b('0x6f')](function(_0xb8a4bb){_0x87ac70[_0xdc0b('0x61')](_0xdc0b('0x64'));_0x56c4bc(this)[_0xdc0b('0x62')]('selected');var _0x308d09=_0x56c4bc(this)[_0xdc0b('0x12')]()['parent']()[_0xdc0b('0x5d')](_0xdc0b('0x70'));_0x308d09[_0xdc0b('0x71')](_0xdc0b('0x72'),!![]);_0x48ce28[_0xdc0b('0x4')][_0xdc0b('0x5c')][_0xdc0b('0x65')]=_0x308d09[_0xdc0b('0x73')]();});}};const _0x377324=_0x458c31=>{_0x48ce28['dir_atom'][_0xdc0b('0x74')](atom,_0x458c31);};const _0x5df576=()=>{_0x306ce9={'visibleParticles':[],'visibleProtons':[],'visibleNElectrons':[],'hoverInnerFaces':[],'hoverOuterFaces':[],'optionalProtons':[]};};const _0x48a6a0=()=>{let _0x6f6bab=_0x48ce28[_0xdc0b('0x7')][_0xdc0b('0x18')];for(let _0x5d6e9d in _0x48ce28[_0xdc0b('0x7')]){let _0x286019=_0x48ce28[_0xdc0b('0x7')][_0x5d6e9d];if(_0x286019['az'][_0xdc0b('0x3a')][_0xdc0b('0x75')]==_0xdc0b('0x28')){_0x306ce9[_0xdc0b('0x1d')]=_0x306ce9[_0xdc0b('0x1d')][_0xdc0b('0x76')](_0x286019['az'][_0xdc0b('0x77')]['visibleParticles']);_0x306ce9[_0xdc0b('0x21')]=_0x306ce9['visibleProtons'][_0xdc0b('0x76')](_0x286019['az'][_0xdc0b('0x77')][_0xdc0b('0x21')]);_0x306ce9[_0xdc0b('0x78')]=_0x306ce9['visibleNElectrons'][_0xdc0b('0x76')](_0x286019['az'][_0xdc0b('0x77')][_0xdc0b('0x78')]);_0x306ce9[_0xdc0b('0x1f')]=_0x306ce9[_0xdc0b('0x1f')][_0xdc0b('0x76')](_0x286019['az'][_0xdc0b('0x77')]['optionalProtons']);}}};_0xa5459b();return{'createView':_0x4de260,'objectLoaded':_0x5f32b3,'createUniqueObjectKey':_0x4d0f87,'getObject':_0x376e17,'addObject':_0x54e946,'deleteObject':_0x24d2d6,'clearScene':_0x41492f,'grabObject':_0x1496b7,'explode':_0x377324,'updateIntersectLists':_0x48a6a0,'mouseUp':_0x19abcf,'mouseDown':_0x5b1f01,'mouseMove':_0x125db1,'intersect':_0x306ce9,'hoverObjects':_0x5ab73a};};}(jQuery));