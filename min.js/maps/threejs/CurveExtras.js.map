{"version":3,"sources":["threejs/CurveExtras.js"],"names":["THREE","Curves","GrannyKnot","Curve","create","t","Math","PI","x","cos","sin","y","z","Vector3","multiplyScalar","HeartCurve","s","this","scale","undefined","tx","pow","ty","VivianiCurve","radius","a","tz","KnotCurve","HelixCurve","t2","TrefoilKnot","TorusKnot","CinquefoilKnot","TrefoilPolynomialKnot","scaleTo","FigureEightPolynomialKnot","DecoratedTorusKnot4a","DecoratedTorusKnot4b","fi","DecoratedTorusKnot5a","DecoratedTorusKnot5c"],"mappings":"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","file":"../../threejs/CurveExtras.js","sourcesContent":["/*\n * A bunch of parametric curves\n * @author zz85\n *\n * Formulas collected from various sources\n *\thttp://mathworld.wolfram.com/HeartCurve.html\n *\thttp://mathdl.maa.org/images/upload_library/23/stemkoski/knots/page6.html\n *\thttp://en.wikipedia.org/wiki/Viviani%27s_curve\n *\thttp://mathdl.maa.org/images/upload_library/23/stemkoski/knots/page4.html\n *\thttp://www.mi.sanu.ac.rs/vismath/taylorapril2011/Taylor.pdf\n *\thttp://prideout.net/blog/?p=44\n */\n\n// Lets define some curves\nTHREE.Curves = {};\n\n\n THREE.Curves.GrannyKnot = THREE.Curve.create( function() {},\n\n\t function( t ) {\n\n\t\tt = 2 * Math.PI * t;\n\n\t\tvar x = - 0.22 * Math.cos( t ) - 1.28 * Math.sin( t ) - 0.44 * Math.cos( 3 * t ) - 0.78 * Math.sin( 3 * t );\n\t\tvar y = - 0.1 * Math.cos( 2 * t ) - 0.27 * Math.sin( 2 * t ) + 0.38 * Math.cos( 4 * t ) + 0.46 * Math.sin( 4 * t );\n\t\tvar z = 0.7 * Math.cos( 3 * t ) - 0.4 * Math.sin( 3 * t );\n\t\treturn new THREE.Vector3( x, y, z ).multiplyScalar( 20 );\n\n\t}\n);\n\nTHREE.Curves.HeartCurve = THREE.Curve.create(\n\nfunction( s ) {\n\n\tthis.scale = ( s === undefined ) ? 5 : s;\n\n},\n\nfunction( t ) {\n\n\tt *= 2 * Math.PI;\n\n\tvar tx = 16 * Math.pow( Math.sin( t ), 3 );\n\tvar ty = 13 * Math.cos( t ) - 5 * Math.cos( 2 * t ) - 2 * Math.cos( 3 * t ) - Math.cos( 4 * t ), tz = 0;\n\n\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n}\n\n);\n\n\n\n// Viviani's Curve\nTHREE.Curves.VivianiCurve = THREE.Curve.create(\n\n\tfunction( radius ) {\n\n\t\tthis.radius = radius;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt = t * 4 * Math.PI; // Normalized to 0..1\n\t\tvar a = this.radius / 2;\n\t\tvar tx = a * ( 1 + Math.cos( t ) ),\n\t\t\tty = a * Math.sin( t ),\n\t\t\ttz = 2 * a * Math.sin( t / 2 );\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n);\n\n\nTHREE.Curves.KnotCurve = THREE.Curve.create(\n\n\tfunction() {\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt *= 2 * Math.PI;\n\n\t\tvar R = 10;\n\t\tvar s = 50;\n\t\tvar tx = s * Math.sin( t ),\n\t\t\tty = Math.cos( t ) * ( R + s * Math.cos( t ) ),\n\t\t\ttz = Math.sin( t ) * ( R + s * Math.cos( t ) );\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n);\n\nTHREE.Curves.HelixCurve = THREE.Curve.create(\n\n\tfunction() {\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar a = 30; // radius\n\t\tvar b = 150; //height\n\t\tvar t2 = 2 * Math.PI * t * b / 30;\n\t\tvar tx = Math.cos( t2 ) * a,\n\t\t\tty = Math.sin( t2 ) * a,\n\t\t\ttz = b * t;\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n);\n\nTHREE.Curves.TrefoilKnot = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 10 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt *= Math.PI * 2;\n\t\tvar tx = ( 2 + Math.cos( 3 * t ) ) * Math.cos( 2 * t ),\n\t\t\tty = ( 2 + Math.cos( 3 * t ) ) * Math.sin( 2 * t ),\n\t\t\ttz = Math.sin( 3 * t );\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\nTHREE.Curves.TorusKnot = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 10 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar p = 3,\n\t\t\tq = 4;\n\t\tt *= Math.PI * 2;\n\t\tvar tx = ( 2 + Math.cos( q * t ) ) * Math.cos( p * t ),\n\t\t\tty = ( 2 + Math.cos( q * t ) ) * Math.sin( p * t ),\n\t\t\ttz = Math.sin( q * t );\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\n\nTHREE.Curves.CinquefoilKnot = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 10 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar p = 2,\n\t\t\tq = 5;\n\t\tt *= Math.PI * 2;\n\t\tvar tx = ( 2 + Math.cos( q * t ) ) * Math.cos( p * t ),\n\t\t\tty = ( 2 + Math.cos( q * t ) ) * Math.sin( p * t ),\n\t\t\ttz = Math.sin( q * t );\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\n\nTHREE.Curves.TrefoilPolynomialKnot = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 10 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt = t * 4 - 2;\n\t\tvar tx = Math.pow( t, 3 ) - 3 * t,\n\t\t\tty = Math.pow( t, 4 ) - 4 * t * t,\n\t\t\ttz = 1 / 5 * Math.pow( t, 5 ) - 2 * t;\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\n// var scaleTo = function(x, y) {\n//   var r = y - x;\n//   return function(t) {\n//     t * r + x;\n//   };\n// }\nvar scaleTo = function( x, y, t ) {\n\n\tvar r = y - x;\n\treturn t * r + x;\n\n};\n\nTHREE.Curves.FigureEightPolynomialKnot = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 1 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt = scaleTo( - 4, 4, t );\n\t\tvar tx = 2 / 5 * t * ( t * t - 7 ) * ( t * t - 10 ),\n\t\t\tty = Math.pow( t, 4 ) - 13 * t * t,\n\t\t\ttz = 1 / 10 * t * ( t * t - 4 ) * ( t * t - 9 ) * ( t * t - 12 );\n\n\t\treturn new THREE.Vector3( tx, ty, tz ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\nTHREE.Curves.DecoratedTorusKnot4a = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 40 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tt *= Math.PI * 2;\n\t\tvar\n\t\tx = Math.cos( 2 * t ) * ( 1 + 0.6 * ( Math.cos( 5 * t ) + 0.75 * Math.cos( 10 * t ) ) ),\n\t\t\ty = Math.sin( 2 * t ) * ( 1 + 0.6 * ( Math.cos( 5 * t ) + 0.75 * Math.cos( 10 * t ) ) ),\n\t\t\tz = 0.35 * Math.sin( 5 * t );\n\n\t\treturn new THREE.Vector3( x, y, z ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\n\nTHREE.Curves.DecoratedTorusKnot4b = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 40 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar fi = t * Math.PI * 2;\n\t\tvar x = Math.cos( 2 * fi ) * ( 1 + 0.45 * Math.cos( 3 * fi ) + 0.4 * Math.cos( 9 * fi ) ),\n\t\t\ty = Math.sin( 2 * fi ) * ( 1 + 0.45 * Math.cos( 3 * fi ) + 0.4 * Math.cos( 9 * fi ) ),\n\t\t\tz = 0.2 * Math.sin( 9 * fi );\n\n\t\treturn new THREE.Vector3( x, y, z ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\n\nTHREE.Curves.DecoratedTorusKnot5a = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 40 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar fi = t * Math.PI * 2;\n\t\tvar x = Math.cos( 3 * fi ) * ( 1 + 0.3 * Math.cos( 5 * fi ) + 0.5 * Math.cos( 10 * fi ) ),\n\t\t\ty = Math.sin( 3 * fi ) * ( 1 + 0.3 * Math.cos( 5 * fi ) + 0.5 * Math.cos( 10 * fi ) ),\n\t\t\tz = 0.2 * Math.sin( 20 * fi );\n\n\t\treturn new THREE.Vector3( x, y, z ).multiplyScalar( this.scale );\n\n\t}\n\n);\n\nTHREE.Curves.DecoratedTorusKnot5c = THREE.Curve.create(\n\n\tfunction( s ) {\n\n\t\tthis.scale = ( s === undefined ) ? 40 : s;\n\n\t},\n\n\tfunction( t ) {\n\n\t\tvar fi = t * Math.PI * 2;\n\t\tvar x = Math.cos( 4 * fi ) * ( 1 + 0.5 * ( Math.cos( 5 * fi ) + 0.4 * Math.cos( 20 * fi ) ) ),\n\t\t\ty = Math.sin( 4 * fi ) * ( 1 + 0.5 * ( Math.cos( 5 * fi ) + 0.4 * Math.cos( 20 * fi ) ) ),\n\t\t\tz = 0.35 * Math.sin( 15 * fi );\n\n\t\treturn new THREE.Vector3( x, y, z ).multiplyScalar( this.scale );\n\n\t}\n\n);\n"]}