{"version":3,"sources":["popups/popups_status.js"],"names":["$","localStorage","getItem","setItem","Drupal","imager","popups","statusC","spec","popup","Popups","Viewer","viewer","dspec","extend","name","autoOpen","title","zIndex","width","dialogClass","cssId","height","resize","resizable","open","append","position","my","at","of","$selectButton","baseC","dialogOnCreate","dialogOpen","dialogOnOpen","imagerDebugStatus","updateStatus","brightness","color","dialogOnClose","dialogInit","dialogUpdate","status","dialogIsOpen","key","hasOwnProperty","html","jQuery"],"mappings":"CAkBA,SAAWA,GACT,aAEkD,OAA9CC,aAAaC,QAAQ,sBACvBD,aAAaE,QAAQ,qBAAqB,GAa5CC,OAAOC,OAAOC,OAAOC,QAAU,SAAiBC,GAC9C,IAEIC,EAFAC,EAASN,OAAOC,OAAOC,OACvBK,EAASP,OAAOC,OAAOO,OAGvBC,EAAQb,EAAEc,QACZC,KAAM,SACNC,UAAU,EACVC,MAAO,gBACPC,OAAQ,KACRC,MAAO,OACPC,YAAa,qCACbC,MAAO,gBACPC,OAAQ,OACRC,OAAQ,OACRC,WAAW,EACXC,KAAM,WACWzB,EAAE,6BACR0B,OAAO,qHAElBC,UACEC,GAAI,eACJC,GAAI,eACJC,GAAItB,EAAKuB,gBAEVvB,GAkCH,OAhCAC,EAAQC,EAAOsB,MAAMnB,GAErBJ,EAAMwB,eAAiB,WACrBxB,EAAMyB,cAGRzB,EAAM0B,aAAe,WACnBlC,aAAamC,kBAAoB,OACjCzB,EAAO0B,eACP3B,EAAO4B,WAAWD,eAClB3B,EAAO6B,MAAMF,gBAGf5B,EAAM+B,cAAgB,WACpBvC,aAAamC,kBAAoB,SAGnC3B,EAAMgC,WAAa,aAInBhC,EAAMiC,aAAe,SAAsBC,GACzC,GAAIlC,EAAMmC,eAAgB,CACxB,IAAIC,EACJ,IAAKA,KAAOF,EACNA,EAAOG,eAAeD,IACxB7C,EAAE,kBAAoB6C,GAAKE,KAAKJ,EAAOE,MAMxCpC,GA5EX,CA8EGuC","file":"../../popups/popups_status.js","sourcesContent":["/**\n * @file\n * Declare Imager module Status dialog - Drupal.imager.popups.statusC.\n */\n\n/*\n * Note: Variables ending with capital C or M designate Classes and Modules.\n * They can be found in their own files using the following convention:\n *   i.e. Drupal.imager.coreM is in file imager/js/imager.core.inc\n *        Drupal.imager.popups.baseC is in file imager/js/popups/imager.base.inc\n * Variables starting with $ are only used for jQuery 'wrapped sets' of objects.\n */\n\n/**\n * Wrap file in JQuery();.\n *\n * @param $\n */\n(function ($) {\n  'use strict';\n\n  if (localStorage.getItem('imagerDebugStatus') === null) {\n    localStorage.setItem('imagerDebugStatus', false);\n  }\n\n  /**\n   * Declare Status dialog class.\n   *\n   * @param {object} spec\n   *   Specifications for opening dialog, can also have ad-hoc properties\n   *   not used by jQuery dialog but needed for other purposes.\n   *\n   * @return {dialog}\n   *   The Status dialog.\n   */\n  Drupal.imager.popups.statusC = function statusC(spec) {\n    var Popups = Drupal.imager.popups;\n    var Viewer = Drupal.imager.viewer;\n    var popup;\n\n    var dspec = $.extend({\n      name: 'Status',\n      autoOpen: false,\n      title: 'Imager Status',\n      zIndex: 1015,\n      width: 'auto',\n      dialogClass: 'imager-dialog imager-status-dialog',\n      cssId: 'imager-status',\n      height: 'auto',\n      resize: 'auto',\n      resizable: true,\n      open: function () {\n        var closeBtn = $('.ui-dialog-titlebar-close');\n        closeBtn.append('<span class=\"ui-button-icon-primary ui-icon ui-icon-closethick\"></span><span class=\"ui-button-text\">close</span>');\n      },\n      position: {\n        my: 'right bottom',\n        at: 'right bottom',\n        of: spec.$selectButton\n      }\n    }, spec);\n    // Initialize the popup.\n    popup = Popups.baseC(dspec);\n\n    popup.dialogOnCreate = function dialogOnCreate() {\n      popup.dialogOpen();\n    };\n\n    popup.dialogOnOpen = function dialogOnOpen() {\n      localStorage.imagerDebugStatus = 'true';\n      Viewer.updateStatus();\n      Popups.brightness.updateStatus();\n      Popups.color.updateStatus();\n    };\n\n    popup.dialogOnClose = function dialogOnClose() {\n      localStorage.imagerDebugStatus = 'false';\n    };\n\n    popup.dialogInit = function dialogInit() {\n      // Query all other dialogs for their status.\n    };\n\n    popup.dialogUpdate = function dialogUpdate(status) {\n      if (popup.dialogIsOpen()) {\n        var key;\n        for (key in status) {\n          if (status.hasOwnProperty(key)) {\n            $('#imager-status-' + key).html(status[key]);\n          }\n        }\n      }\n    };\n\n    return popup;\n  };\n})(jQuery);\n"]}