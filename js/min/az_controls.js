var _0x51ef=['save-image','OrbitControls','domElement','rotateSpeed','zoomSpeed','panSpeed','enableZoom','enablePan','enableDamping','dampingFactor','TrackballControls','noZoom','noPan','Vector3','unproject','Raycaster','sub','normalize','intersectObjects','offsetX','canvasWidth','offsetY','canvasHeight','producer','hovered','hoverObjects','mouseClick','az-control-rotation','az-control-position','az-control-radios','input[name=','attr',']:checked','val','log','atom_builder','setDefaults','ray','set','projector','Projector','atomizer','base','constants','none','.theme--selectBlock','createElement','IMG','Vector2','dispose','canvasContainer','removeEventListener','atom','attach','mousemove','addEventListener','camera','octolet','split','className','indexOf','az-slider','replace','--az-slider','context','value','az-control-range','--az-value','target','theme','applyControl','doAjax','getYmlDirectory','loadYml','preventDefault','selectyml','overwriteYml','saveyml','--saveyml','querySelector','input[name=filename]','length','.yml','saveYml','snapshot','viewer','buttonClicked','radioClicked','command','renderNodeCommand','popupId','\x20.container','htmlContents','data','viewmode','blockid','/ajax-ab/renderNode','settings','rotation','type','position','color','range','opacity','scale','setInit','defaultValue','selected','az-hidden','insertAfter','removeClass','.az-controls-form','change','--button','click','link','radios','input','popup-node','.toggle-block','each','find','.az-header','#blocks--buttons\x20#toggle--','az-selected','hasClass','addClass','.blocks--buttons','play','canvas','width','height','renderer','setSize','updateProjectionMatrix','toDataURL','image/jpeg','aspect','render','scene','atomName','/ajax-ab/save-image','atomNid'];(function(_0x1bf493,_0x3982f5){var _0x56b295=function(_0x10d82a){while(--_0x10d82a){_0x1bf493['push'](_0x1bf493['shift']());}};_0x56b295(++_0x3982f5);}(_0x51ef,0x147));var _0x2441=function(_0x5165f2,_0x142ac9){_0x5165f2=_0x5165f2-0x0;var _0x4fc466=_0x51ef[_0x5165f2];return _0x4fc466;};(function(_0x319afb){Drupal['atomizer']['controlsC']=function(_0x5b6bc9,_0x2803f6){var _0x3b1b70=['a','b','c'];var _0x435d2d=_0x5b6bc9;var _0x1f3b3c=Drupal[_0x2441('0x0')][_0x2441('0x1')][_0x2441('0x2')];var _0x4dde1;var _0x28c8d2;var _0x57fca5=_0x2441('0x3');var _0xe091c4=_0x319afb(_0x2441('0x4'),_0x435d2d['context'])[0x0];var _0x1df403;var _0x3f2ca1=document[_0x2441('0x5')](_0x2441('0x6'));var _0x266001;var _0x3409c6=new THREE[(_0x2441('0x7'))](-0x3e8,-0x3e8);function _0xacb01d(_0x41f8f1){switch(_0x57fca5){case'atom_builder':_0x4dde1[_0x2441('0x8')]();delete _0x4dde1;_0x435d2d[_0x2441('0x9')][_0x2441('0xa')]('mousemove',_0xe01a96);break;case'camera':_0x4dde1[_0x2441('0x8')]();delete _0x4dde1;break;case _0x2441('0xb'):_0x28c8d2[_0x2441('0x8')]();delete _0x28c8d2;break;case _0x2441('0xc'):_0x435d2d[_0x2441('0x9')]['removeEventListener'](_0x2441('0xd'),_0xe01a96);break;case _0x2441('0x3'):break;}_0x57fca5=_0x41f8f1;switch(_0x57fca5){case'atom_builder':_0x4dde1=_0x3fbe5e();_0x435d2d[_0x2441('0x9')][_0x2441('0xe')](_0x2441('0xd'),_0xe01a96,![]);_0x435d2d[_0x2441('0x9')]['addEventListener']('mouseup',_0x5b3046,![]);break;case _0x2441('0xf'):_0x4dde1=_0x3fbe5e();break;case _0x2441('0xb'):_0x28c8d2=_0x519703(Drupal[_0x2441('0x0')][_0x2441('0x10')]);break;case _0x2441('0xc'):_0x435d2d[_0x2441('0x9')][_0x2441('0xe')](_0x2441('0xd'),_0xe01a96,![]);break;case _0x2441('0x3'):break;}}function _0x226808(_0x59c64f){var _0x57dd61=this['id'][_0x2441('0x11')]('--');var _0x50e05a=this['id'];if(this[_0x2441('0x12')][_0x2441('0x13')](_0x2441('0x14'))>-0x1){_0x50e05a=_0x50e05a[_0x2441('0x15')](_0x2441('0x16'),'');_0x319afb('#'+_0x50e05a+'--az-value',_0x435d2d[_0x2441('0x17')])[0x0][_0x2441('0x18')]=_0x59c64f['target'][_0x2441('0x18')];}else if(this[_0x2441('0x12')][_0x2441('0x13')](_0x2441('0x19'))>-0x1){_0x319afb('#'+_0x50e05a+_0x2441('0x1a'),_0x435d2d[_0x2441('0x17')])[0x0][_0x2441('0x18')]=_0x59c64f[_0x2441('0x1b')][_0x2441('0x18')];}_0x435d2d[_0x2441('0x1c')][_0x2441('0x1d')](_0x50e05a,_0x59c64f[_0x2441('0x1b')]['value']);}function _0x217a12(_0x2813d2){var _0x3ce97f=this['id'][_0x2441('0x11')]('--');Drupal[_0x2441('0x0')]['base'][_0x2441('0x1e')]('/ajax-ab/loadYml',{'component':_0x3ce97f[0x0],'filepath':_0x435d2d[_0x3ce97f[0x0]][_0x2441('0x1f')]()+'/'+_0x2813d2[_0x2441('0x1b')][_0x2441('0x18')],'filename':_0x2813d2[_0x2441('0x1b')]['value']},_0x435d2d[_0x3ce97f[0x0]][_0x2441('0x20')]);}function _0x402774(_0x2407d8){_0x2407d8[_0x2441('0x21')]();var _0x414029=this['id']['split']('--');switch(_0x414029[0x1]){case _0x2441('0x22'):_0x435d2d[_0x414029[0x0]][_0x2441('0x23')]();break;case _0x2441('0x24'):var _0x4bd71c=_0x319afb('3'+_0x414029[0x0]+_0x2441('0x25'),_0x435d2d[_0x2441('0x17')])[0x0];var _0x245599=_0x4bd71c[_0x2441('0x26')]('input[name=name]')[_0x2441('0x18')];var _0x1e5116=_0x4bd71c['querySelector'](_0x2441('0x27'))[_0x2441('0x18')];if(_0x245599['length']){if(_0x1e5116[_0x2441('0x28')]==0x0){_0x1e5116=_0x245599;}if(_0x1e5116[_0x2441('0x13')](_0x2441('0x29'))==-0x1){_0x1e5116+=_0x2441('0x29');}_0x435d2d[_0x414029[0x0]][_0x2441('0x2a')]({'name':_0x245599,'filepath':_0x435d2d[_0x414029[0x0]]['getYmlDirectory']()+'/'+_0x1e5116[_0x2441('0x15')](/[|&;$%@"<>()+,]/g,'')[_0x2441('0x15')](/[ -]/g,'_')});}break;case _0x2441('0x2b'):break;default:if(_0x414029[0x0]===_0x2441('0x2c')){_0x435d2d[_0x2441('0x2d')](_0x2407d8['target']);}else{if(_0x435d2d[_0x414029[0x0]]&&_0x435d2d[_0x414029[0x0]][_0x2441('0x2d')]){_0x2407d8['preventDefault']();_0x435d2d[_0x414029[0x0]][_0x2441('0x2d')](_0x2407d8[_0x2441('0x1b')]);}}break;}return![];}function _0x45bdf5(_0x558f39){var _0x45af9b=this['id']['split']('--');if(_0x435d2d[_0x45af9b[0x0]]&&_0x435d2d[_0x45af9b[0x0]][_0x2441('0x2e')]){_0x435d2d[_0x45af9b[0x0]][_0x2441('0x2e')](_0x558f39[_0x2441('0x1b')]);}}function _0x47b9cf(_0x2bef55){for(var _0x425840=0x0;_0x425840<_0x2bef55[_0x2441('0x28')];_0x425840++){if(_0x2bef55[_0x425840][_0x2441('0x2f')]==_0x2441('0x30')){var _0x207e43=_0x319afb('#'+_0x2bef55[_0x425840]['data'][_0x2441('0x31')]+_0x2441('0x32'),_0x435d2d['context']);if(_0x207e43!=null){_0x207e43['html'](_0x2bef55[_0x425840][_0x2441('0x33')]);}}}}function _0xd254de(_0xc19c60){_0xc19c60[_0x2441('0x21')]();var _0x1f35e7=_0x319afb(_0xc19c60[_0x2441('0x1b')],_0x435d2d[_0x2441('0x17')])[_0x2441('0x34')]('nid');var _0x3bed47=_0x319afb(_0xc19c60[_0x2441('0x1b')],_0x435d2d[_0x2441('0x17')])[_0x2441('0x34')](_0x2441('0x35'));var _0x2d470e=_0x319afb(_0xc19c60[_0x2441('0x1b')],_0x435d2d[_0x2441('0x17')])['data'](_0x2441('0x36'));Drupal[_0x2441('0x0')][_0x2441('0x1')][_0x2441('0x1e')](_0x2441('0x37'),{'nid':_0x1f35e7,'viewMode':_0x3bed47,'popupId':_0x2d470e},_0x47b9cf);return;}function _0x1ca01f(){if(!_0x435d2d[_0x2441('0x0')][_0x2441('0x1c')])return;for(var _0x469bb1 in _0x435d2d[_0x2441('0x0')][_0x2441('0x1c')][_0x2441('0x38')]){var _0x42c073=_0x435d2d['atomizer'][_0x2441('0x1c')][_0x2441('0x38')][_0x469bb1];var _0x36a2fc=_0x469bb1['replace'](/_/g,'-');var _0x47a5aa=_0x319afb('.'+_0x36a2fc,_0x435d2d[_0x2441('0x17')])[0x0];if(_0x47a5aa||_0x42c073['type']==_0x2441('0x39')||_0x42c073[_0x2441('0x3a')]==_0x2441('0x3b')){switch(_0x42c073[_0x2441('0x3a')]){case _0x2441('0x3c'):case _0x2441('0x3d'):case _0x2441('0x3e'):case _0x2441('0x3f'):case'rotation':case'position':_0x435d2d['theme'][_0x2441('0x40')](_0x42c073[_0x2441('0x41')],_0x36a2fc,_0x42c073[_0x2441('0x3a')]);break;}}}}function _0x515864(){if(_0xe091c4){if(!_0xe091c4[_0x2441('0x18')]){_0xe091c4[0x0][_0x2441('0x42')]=!![];}_0xba17e3();}}function _0xba17e3(){_0x319afb('.blocks--theme\x20.control-block',_0x435d2d['context'])['addClass'](_0x2441('0x43'));var _0x5c6c99=_0x319afb('.blocks--'+_0xe091c4[_0x2441('0x18')],_0x435d2d[_0x2441('0x17')]);_0x5c6c99[_0x2441('0x44')](_0x319afb(_0xe091c4));_0x5c6c99[_0x2441('0x45')](_0x2441('0x43'));}function _0x4a9961(){_0x1ca01f();var _0xa60a2b=_0x319afb(_0x2441('0x46'),_0x435d2d[_0x2441('0x17')])[0x0];if(!_0xa60a2b)return;_0x515864();if(_0xe091c4){_0xe091c4[_0x2441('0xe')](_0x2441('0x47'),function(_0x323cdc){_0xba17e3(_0x319afb('.blocks--'+_0x323cdc[_0x2441('0x18')],_0x435d2d['context']));});}for(var _0x36cc55 in _0x435d2d['atomizer'][_0x2441('0x1c')][_0x2441('0x38')]){var _0x22a8c4=_0x435d2d[_0x2441('0x0')][_0x2441('0x1c')]['settings'][_0x36cc55];var _0x377fcd=_0x36cc55[_0x2441('0x15')](/_/g,'-');var _0x39f429=_0x319afb('.'+_0x377fcd,_0x435d2d[_0x2441('0x17')])[0x0];if(_0x39f429||_0x22a8c4[_0x2441('0x3a')]==_0x2441('0x39')||_0x22a8c4['type']==_0x2441('0x3b')){switch(_0x22a8c4['type']){case _0x2441('0x3c'):_0x39f429[_0x2441('0xe')]('input',_0x226808);break;case _0x2441('0x3d'):case _0x2441('0x39'):case _0x2441('0x3b'):var _0x396ce8=_0x377fcd+_0x2441('0x16');_0x319afb('.'+_0x396ce8,_0x435d2d[_0x2441('0x17')])[0x0][_0x2441('0xe')]('input',_0x226808);_0x435d2d['theme'][_0x2441('0x40')](_0x22a8c4[_0x2441('0x41')],_0x377fcd,_0x22a8c4[_0x2441('0x3a')]);break;case _0x2441('0x24'):var _0x4e4128=_0x319afb('.'+_0x377fcd+_0x2441('0x48'),_0x435d2d['context'])[0x0];_0x319afb('.'+_0x377fcd+'--button',_0x435d2d['context'])[0x0]['addEventListener'](_0x2441('0x49'),_0x402774);break;case _0x2441('0x22'):_0x39f429[_0x2441('0xe')](_0x2441('0x47'),_0x217a12);break;case _0x2441('0x4a'):case'button':case'toggle':_0x39f429[_0x2441('0xe')](_0x2441('0x49'),_0x402774);break;case _0x2441('0x4b'):var _0x2fb003=_0x319afb(_0x39f429)['find'](_0x2441('0x4c'));_0x2fb003[_0x2441('0x49')](_0x45bdf5);break;case _0x2441('0x4d'):_0x39f429[_0x2441('0xe')](_0x2441('0x49'),_0xd254de);break;}}}_0x319afb(_0x2441('0x4e'),_0x435d2d['context'])[_0x2441('0x4f')](function(){var _0x33b7f4=_0x319afb(this)['data'](_0x2441('0x36'))[_0x2441('0x11')]('--')[0x1];var _0x58668d=_0x319afb('#blocks--'+_0x33b7f4,_0x435d2d[_0x2441('0x17')]);_0x58668d[_0x2441('0x50')](_0x2441('0x51'))[_0x2441('0x49')](function(_0x57c99f){_0x58668d['addClass'](_0x2441('0x43'));_0x319afb(_0x2441('0x52')+_0x33b7f4,_0x435d2d[_0x2441('0x17')])[_0x2441('0x45')](_0x2441('0x53'));});});_0x319afb(_0x2441('0x4e'),_0x435d2d[_0x2441('0x17')])[_0x2441('0x49')](function(_0x394fa6){var _0x5b72b6=_0x319afb('.'+_0x319afb(this)[_0x2441('0x34')]('blockid'),_0x435d2d['context']);if(_0x5b72b6[_0x2441('0x54')](_0x2441('0x43'))){var _0x21e261=_0x319afb(this)[_0x2441('0x34')]('blockid');_0x5b72b6[_0x2441('0x45')](_0x2441('0x43'));_0x319afb(this)[_0x2441('0x55')](_0x2441('0x53'));_0x5b72b6['insertAfter'](_0x319afb(_0x2441('0x56'),_0x435d2d[_0x2441('0x17')]));if(_0x21e261==='blocks--theme'){_0x515864();}}else{_0x5b72b6[_0x2441('0x55')](_0x2441('0x43'));_0x319afb(this)[_0x2441('0x45')](_0x2441('0x53'));}});_0x319afb('#controls--snapshot',_0x435d2d[_0x2441('0x17')])['click'](function(){var _0x2d2f1c=_0x319afb(this)['find']('audio')[0x0];_0x2d2f1c['volume']=0.1;_0x2d2f1c[_0x2441('0x57')]();var _0x342e02=_0x435d2d[_0x2441('0x58')][_0x2441('0x59')];var _0x25a277=_0x435d2d[_0x2441('0x58')][_0x2441('0x5a')];_0x435d2d[_0x2441('0x58')][_0x2441('0x59')]=0xa00;_0x435d2d[_0x2441('0x58')][_0x2441('0x5a')]=0xa00;_0x435d2d[_0x2441('0x5b')][_0x2441('0x5c')](_0x435d2d[_0x2441('0x58')][_0x2441('0x59')],_0x435d2d[_0x2441('0x58')][_0x2441('0x5a')]);_0x435d2d[_0x2441('0x5b')]['setViewport'](0x0,0x0,_0x435d2d[_0x2441('0x58')][_0x2441('0x59')],_0x435d2d['canvas'][_0x2441('0x5a')]);_0x435d2d[_0x2441('0xf')]['aspect']=_0x435d2d[_0x2441('0x58')][_0x2441('0x59')]/_0x435d2d['canvas']['height'];_0x435d2d['camera'][_0x2441('0x5d')]();_0x435d2d['render']();_0x3f2ca1=_0x435d2d[_0x2441('0x58')][_0x2441('0x5e')](_0x2441('0x5f'));_0x435d2d[_0x2441('0x58')]['width']=_0x342e02;_0x435d2d['canvas'][_0x2441('0x5a')]=_0x25a277;_0x435d2d[_0x2441('0x5b')][_0x2441('0x5c')](_0x435d2d['canvas'][_0x2441('0x59')],_0x435d2d['canvas'][_0x2441('0x5a')]);_0x435d2d[_0x2441('0x5b')]['setViewport'](0x0,0x0,_0x435d2d['canvas'][_0x2441('0x59')],_0x435d2d[_0x2441('0x58')][_0x2441('0x5a')]);_0x435d2d[_0x2441('0xf')][_0x2441('0x60')]=_0x435d2d['canvas']['width']/_0x435d2d['canvas']['height'];_0x435d2d['camera'][_0x2441('0x5d')]();_0x435d2d[_0x2441('0x61')]();var _0x2597cc=_0x435d2d[_0x2441('0x62')]['az'][_0x2441('0x63')][_0x2441('0x15')](/ /g,'-');Drupal[_0x2441('0x0')][_0x2441('0x1')][_0x2441('0x1e')](_0x2441('0x64'),{'atomNid':_0x435d2d[_0x2441('0x62')]['az'][_0x2441('0x65')],'action':_0x2441('0x66'),'filename':_0x2597cc,'directory':'atoms','overwrite':![],'sceneName':_0x435d2d[_0x2441('0x62')]['az'][_0x2441('0x63')],'imgBase64':_0x3f2ca1},_0x5a6e55);function _0x5a6e55(_0x5a70e8){var _0x59f0d8=_0x5a70e8;return;}});return![];}function _0x3fbe5e(){var _0x4d68fc=new THREE[(_0x2441('0x67'))](_0x435d2d[_0x2441('0xf')],_0x435d2d['renderer'][_0x2441('0x68')]);_0x4d68fc[_0x2441('0x69')]=0.45;_0x4d68fc[_0x2441('0x6a')]=0.5;_0x4d68fc[_0x2441('0x6b')]=0.5;_0x4d68fc[_0x2441('0x6c')]=!![];_0x4d68fc[_0x2441('0x6d')]=!![];_0x4d68fc[_0x2441('0x6e')]=!![];_0x4d68fc[_0x2441('0x6f')]=0.3;_0x4d68fc['keys']=[0x41,0x53,0x44];return _0x4d68fc;}function _0x519703(_0x2ded0c){var _0x442bb0=new THREE[(_0x2441('0x70'))](_0x2ded0c,_0x435d2d[_0x2441('0x5b')][_0x2441('0x68')]);_0x442bb0[_0x2441('0x69')]=0x2;_0x442bb0[_0x2441('0x6a')]=0x1;_0x442bb0[_0x2441('0x6b')]=0x3;_0x442bb0[_0x2441('0x71')]=![];_0x442bb0[_0x2441('0x72')]=![];_0x442bb0['staticMoving']=!![];_0x442bb0['keys']=[0x41,0x53,0x44];_0x442bb0['addEventListener'](_0x2441('0x47'),_0x435d2d[_0x2441('0x61')]);return _0x442bb0;}function _0x129546(_0x183dc9){if(_0x183dc9){var _0x5122fc=new THREE[(_0x2441('0x73'))](_0x3409c6['x'],_0x3409c6['y'],0.5);_0x5122fc[_0x2441('0x74')](_0x435d2d[_0x2441('0xf')]);var _0x1d0c5e=new THREE[(_0x2441('0x75'))](_0x435d2d[_0x2441('0xf')][_0x2441('0x3b')],_0x5122fc[_0x2441('0x76')](_0x435d2d[_0x2441('0xf')][_0x2441('0x3b')])[_0x2441('0x77')]());_0x435d2d['render']();var _0x4851bd=_0x1d0c5e[_0x2441('0x78')](_0x183dc9);return _0x4851bd;}else{return[];}}function _0xe01a96(_0x580941){_0x3409c6['x']=_0x580941[_0x2441('0x79')]/_0x435d2d[_0x2441('0x7a')]*0x2-0x1;_0x3409c6['y']=-(_0x580941[_0x2441('0x7b')]/_0x435d2d[_0x2441('0x7c')])*0x2+0x1;if(_0x435d2d[_0x2441('0x7d')]['hoverObjects']){_0x435d2d['producer'][_0x2441('0x7e')](_0x129546(_0x435d2d[_0x2441('0x7d')][_0x2441('0x7f')]()));}_0x435d2d[_0x2441('0x61')]();}function _0x5b3046(_0x46d876){_0x3409c6['x']=_0x46d876['offsetX']/_0x435d2d[_0x2441('0x7a')]*0x2-0x1;_0x3409c6['y']=-(_0x46d876[_0x2441('0x7b')]/_0x435d2d['canvasHeight'])*0x2+0x1;if(_0x435d2d[_0x2441('0x7d')][_0x2441('0x80')]){return _0x435d2d[_0x2441('0x7d')][_0x2441('0x80')](_0x46d876);}}var _0x8eb517=function _0x8eb517(_0x4319d6,_0x2264b6){var _0x543667=_0x319afb('.'+_0x4319d6,_0x435d2d[_0x2441('0x17')]);if(_0x543667['length']){if(_0x543667['hasClass'](_0x2441('0x19'))||_0x543667[_0x2441('0x54')](_0x2441('0x81'))||_0x543667['hasClass'](_0x2441('0x82'))){if(_0x2264b6){return _0x319afb('#'+_0x4319d6+'--'+_0x2264b6+'--az-slider',_0x435d2d['context'])[0x0][_0x2441('0x18')];}else{return _0x319afb('#'+_0x4319d6+_0x2441('0x16'),_0x435d2d['context'])[0x0][_0x2441('0x18')];}}else if(_0x543667[_0x2441('0x54')](_0x2441('0x83'))){return _0x319afb(_0x2441('0x84')+_0x543667[_0x2441('0x85')]('id')+_0x2441('0x86'),_0x435d2d[_0x2441('0x17')])[_0x2441('0x87')]();}else{return _0x543667[_0x2441('0x87')]();}}else{console[_0x2441('0x88')]('atomizer_controls.js\x20-\x20control\x20not\x20found\x20-\x20'+_0x4319d6);return null;}};var _0x47654b=function _0x47654b(){_0x4a9961();_0xacb01d(_0x2441('0x89'));if(_0x435d2d[_0x2441('0x7d')][_0x2441('0x8a')])_0x435d2d[_0x2441('0x7d')][_0x2441('0x8a')]();_0x266001=new THREE['Raycaster']();_0x266001[_0x2441('0x8b')]['direction'][_0x2441('0x8c')](0x0,-0x1,0x0);_0x435d2d['controls'][_0x2441('0x8d')]=new THREE[(_0x2441('0x8e'))]();};return{'init':_0x47654b,'getDefault':_0x8eb517,'findIntersects':_0x129546,'cameraTrackballControls':_0x4dde1};};}(jQuery));