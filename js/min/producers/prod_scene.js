var _0x4c74=['toLowerCase','replace','scene','add','parent','now','down','ctrlKey','object','position','objectStartPosition','dir_molecule','render','keys','length','hasOwnProperty','mode','atomsMove','visibleParticles','protonsAdd','optionalProtons','protonsColor','visibleProtons','inner-faces','hoverInnerFaces','changeControlsMode','none','prod_scene::setControlsObject','atom','objectStartRotation','copy','rotation','changeControlsSettings','preventDefault','which','dir_atom','mouseUp','findIntersects','setEditAtom','outer-faces','mouseDown','mouseMove','base','doAjax','command','loadMoleculeCommand','conf','title','properties','information','link','html','labels','display','atomizer_scene_nid','nid','type','loadObject','toRadians','set','objectLoaded','needsPosition','canvas','nucletC','atomC','shapes','shapesC','sprites','animation','animationC','dir_atomC','atom_select','atom_selectC','dir_moleculeC','#select-molecule-wrapper\x20.select-item-wrapper\x20a','click','target','closest','data','getItem','undefined','#blocks--mouse-mode','addClass','az-hidden','find','input[name=mouse]:checked','val','#edit-mouse--wrapper\x20input','mode:\x20','value','removeClass','#proton-original-color','selected','protonColor','.proton-color','each','attr','split','theme','getColor','proton-','--color','css','background-color','hex','input','prop','checked','mouse','explode','concat','intersect','visibleNElectrons','atomizer','prod_sceneC','.scene--name,\x20.az-scene-name,\x20.az-canvas-labels','context','.scene--information','.scene--properties','objects','#edit-proton-colors--wrapper','controls','mouseMode','electronsAdd','name','deleteObject','log'];(function(_0xf41c86,_0x576dd1){var _0x31817a=function(_0x4bd0a0){while(--_0x4bd0a0){_0xf41c86['push'](_0xf41c86['shift']());}};_0x31817a(++_0x576dd1);}(_0x4c74,0x1ee));var _0x450e=function(_0x173d3e,_0x4120ae){_0x173d3e=_0x173d3e-0x0;var _0x5158c5=_0x4c74[_0x173d3e];return _0x5158c5;};(function(_0x3471b2){Drupal[_0x450e('0x0')][_0x450e('0x1')]=function(_0x41f150){let _0x5e3523=_0x41f150;let _0x5128d7;let _0x45c1e1;var _0x6761d5=_0x3471b2(_0x450e('0x2'),_0x5e3523[_0x450e('0x3')]);var _0xdb3164=_0x3471b2(_0x450e('0x4'),_0x5e3523[_0x450e('0x3')]);var _0x5f02c9=_0x3471b2(_0x450e('0x5'),_0x5e3523[_0x450e('0x3')]);_0x5e3523[_0x450e('0x6')]={};let _0x5c7b7c={};let _0x5f9bd5=![];var _0x428e4d=_0x3471b2(_0x450e('0x7'),_0x5e3523[_0x450e('0x3')]);_0x5e3523[_0x450e('0x8')][_0x450e('0x9')](_0x450e('0xa'));const _0x18b5f0=_0x1fa271=>{let _0x1aa5ce=_0x5e3523[_0x450e('0x6')][_0x1fa271];if(_0x1aa5ce){_0x5e3523['scene']['remove'](_0x1aa5ce);_0x5e3523[_0x1aa5ce[_0x450e('0xb')]][_0x450e('0xc')](_0x1aa5ce);delete _0x5e3523['objects'][_0x1aa5ce['az']['id']];}else{console[_0x450e('0xd')]('Could\x20not\x20delete\x20object\x20-\x20not\x20found:\x20'+_0x1fa271);}};const _0x3f6a64=_0x318ebc=>{let _0x5c749f=0x0;let _0x4c71f4;do{_0x4c71f4=_0x318ebc[_0x450e('0xe')]()[_0x450e('0xf')]('\x20','-')+'-'+ ++_0x5c749f;}while(_0x5e3523[_0x450e('0x6')][_0x4c71f4]);return _0x4c71f4;};const _0x4885f0=_0x4fe3d2=>{_0x5e3523[_0x450e('0x6')][_0x4fe3d2['az']['id']]=_0x4fe3d2;_0x5e3523[_0x450e('0x10')][_0x450e('0x11')](_0x4fe3d2[_0x450e('0x12')]);};const _0x450c4e=_0x312703=>_0x5e3523[_0x450e('0x6')][_0x312703];const _0x362ae6=(_0x2557dc,_0x4d1881)=>{let _0x134e18=0x2bc*(_0x4d1881[_0x450e('0x13')]['x']-_0x4d1881[_0x450e('0x14')]['x']);let _0xe7c9b3=0x2bc*(_0x4d1881['now']['y']-_0x4d1881[_0x450e('0x14')]['y']);if(_0x2557dc[_0x450e('0x15')]){_0x4d1881[_0x450e('0x16')][_0x450e('0x12')][_0x450e('0x17')]['z']=_0x4d1881['objectStartPosition']['z']-_0x134e18;_0x4d1881['object'][_0x450e('0x12')][_0x450e('0x17')]['y']=_0x4d1881[_0x450e('0x18')]['y']+_0xe7c9b3;}else if(_0x2557dc['shiftKey']){_0x4d1881['object'][_0x450e('0x12')][_0x450e('0x17')]['x']=_0x4d1881[_0x450e('0x18')]['x']-_0x134e18;_0x4d1881['object'][_0x450e('0x12')][_0x450e('0x17')]['z']=_0x4d1881[_0x450e('0x18')]['z']+_0xe7c9b3;}else{_0x4d1881['object']['parent'][_0x450e('0x17')]['x']=_0x4d1881[_0x450e('0x18')]['x']-_0x134e18;_0x4d1881[_0x450e('0x16')][_0x450e('0x12')][_0x450e('0x17')]['y']=_0x4d1881[_0x450e('0x18')]['y']+_0xe7c9b3;}_0x5e3523[_0x450e('0x19')]['setPositionSliders'](_0x4d1881['object']);console['log']('mouse:\x20'+_0x4d1881[_0x450e('0x13')]['x']+'\x20'+_0x4d1881[_0x450e('0x13')]['y']);_0x5e3523[_0x450e('0x1a')]();};const _0x549b55=()=>{var _0x360406=Object[_0x450e('0x1b')](_0x5e3523['objects']);if(_0x360406[_0x450e('0x1c')]){for(let _0x3f48d1 in _0x5e3523[_0x450e('0x6')]){if(_0x5e3523[_0x450e('0x6')][_0x450e('0x1d')](_0x3f48d1)){_0x18b5f0(_0x3f48d1);}}}};var _0x4b3b3a=function _0x4b3b3a(_0x13c336){switch(_0x13c336[_0x450e('0x1e')]){case'none':return null;case _0x450e('0x1f'):return _0x5c7b7c[_0x450e('0x20')];case'electronsAdd':return _0x5c7b7c[_0x450e('0x20')];case _0x450e('0x21'):return _0x5c7b7c[_0x450e('0x22')];case _0x450e('0x23'):return _0x5c7b7c[_0x450e('0x24')];case _0x450e('0x25'):return _0x5c7b7c[_0x450e('0x26')];case'outer-faces':return _0x5c7b7c['hoverOuterFaces'];}};const _0x273f10=(_0x2fe18b,_0x5d7c00)=>{if(_0x5d7c00){_0x5e3523['controls'][_0x450e('0x27')]('prod_scene::setControlsObject',_0x450e('0x28'));}else{_0x5e3523[_0x450e('0x8')][_0x450e('0x27')](_0x450e('0x29'),_0x450e('0x10'));}};const _0x156ec9=_0x2fe68f=>{if(!_0x2fe68f[_0x450e('0x1c')])return null;if(_0x2fe68f[0x0][_0x450e('0x16')]['az'])return _0x2fe68f[0x0]['object']['az']['nuclet'][_0x450e('0x2a')];return _0x2fe68f[0x0][_0x450e('0x16')][_0x450e('0x12')][_0x450e('0x12')][_0x450e('0x12')]['az'][_0x450e('0x2a')];};const _0x3ab9d1=(_0x5dd75f,_0x20a5d9)=>{if(_0x20a5d9){_0x5dd75f[_0x450e('0x16')]=_0x20a5d9;_0x5dd75f['objectStartPosition']['copy'](_0x20a5d9[_0x450e('0x12')]['position']);_0x5dd75f[_0x450e('0x2b')][_0x450e('0x2c')](_0x20a5d9[_0x450e('0x2d')]);_0x5e3523['controls'][_0x450e('0x2e')]({'enablePan':![]});}else{_0x5dd75f[_0x450e('0x16')]=null;_0x5e3523[_0x450e('0x8')][_0x450e('0x2e')]({'enablePan':!![]});}};const _0x14cc27=(_0x22d7b7,_0x14fafc)=>{_0x22d7b7[_0x450e('0x2f')]();_0x5f9bd5=![];if(_0x14fafc[_0x450e('0x1e')]==_0x450e('0x1f')){switch(_0x22d7b7[_0x450e('0x30')]){case 0x1:break;case 0x2:break;case 0x3:_0x14fafc['object']=null;break;}}else{_0x5e3523[_0x450e('0x31')][_0x450e('0x32')](_0x22d7b7,_0x14fafc);}};const _0x41cff3=(_0x3451fc,_0x2e12bd)=>{_0x3451fc[_0x450e('0x2f')]();_0x5f9bd5=!![];switch(_0x2e12bd[_0x450e('0x1e')]){case _0x450e('0x28'):return null;case _0x450e('0x1f'):let _0x4544e8=_0x156ec9(_0x5e3523['controls'][_0x450e('0x33')](_0x5c7b7c['visibleParticles']));switch(_0x3451fc[_0x450e('0x30')]){case 0x1:break;case 0x2:_0x5e3523[_0x450e('0x19')][_0x450e('0x34')](_0x4544e8);break;case 0x3:_0x3ab9d1(_0x2e12bd,_0x4544e8);break;}break;case'electronsAdd':case'protonsAdd':case _0x450e('0x23'):case _0x450e('0x25'):case _0x450e('0x35'):_0x5e3523[_0x450e('0x31')][_0x450e('0x36')](_0x3451fc,_0x2e12bd);break;}_0x5e3523[_0x450e('0x1a')]();};let _0x2a530d=(_0x581295,_0x109e69)=>{if(_0x109e69[_0x450e('0x16')]){_0x581295[_0x450e('0x2f')]();_0x362ae6(_0x581295,_0x109e69);}else{if(_0x109e69['intersects']){console[_0x450e('0xd')]('hovered:\x20'+_0x109e69['intersects'][_0x450e('0x1c')]);}switch(_0x109e69['mode']){case _0x450e('0x28'):return null;case _0x450e('0x1f'):if(!_0x5f9bd5){}_0x5e3523['dir_atom']['mouseMove'](_0x581295,_0x109e69);break;case _0x450e('0xa'):case _0x450e('0x21'):case _0x450e('0x23'):case _0x450e('0x25'):case _0x450e('0x35'):_0x5e3523[_0x450e('0x31')][_0x450e('0x37')](_0x581295,_0x109e69);break;}}};const _0x457241=function(_0xdcc821){Drupal[_0x450e('0x0')][_0x450e('0x38')][_0x450e('0x39')]('/ajax/loadMolecule',{'conf':_0xdcc821},_0x325fe6);};const _0x325fe6=function(_0x1b8e36){for(var _0x124e2e=0x0;_0x124e2e<_0x1b8e36['length'];_0x124e2e++){if(_0x1b8e36[_0x124e2e][_0x450e('0x3a')]==_0x450e('0x3b')){_0x549b55();_0x5cd796();_0x5e3523['render']();_0x5e3523[_0x450e('0x6')]={};let _0x2d628c=_0x1b8e36[_0x124e2e]['data'];_0x5e3523[_0x450e('0x10')]['az']={'conf':_0x2d628c[_0x450e('0x3c')],'title':_0x2d628c[_0x450e('0x3d')],'name':_0x2d628c[_0x450e('0xb')],'sceneNid':_0x2d628c['nid'],'properties':_0x2d628c[_0x450e('0x3e')],'information':_0x2d628c[_0x450e('0x3f')],'link':_0x2d628c[_0x450e('0x40')]};if(_0x6761d5){_0x6761d5[_0x450e('0x41')](_0x2d628c[_0x450e('0x3d')]);}if(_0xdb3164&&_0x2d628c[_0x450e('0x3f')]){_0xdb3164[_0x450e('0x41')](_0x2d628c[_0x450e('0x3f')]);}if(_0x5f02c9&&_0x2d628c[_0x450e('0x3e')]){_0x5f02c9[_0x450e('0x41')](_0x2d628c[_0x450e('0x3e')]);}_0x5e3523[_0x450e('0x42')][_0x450e('0x43')]();localStorage['setItem'](_0x450e('0x44'),_0x2d628c['conf'][_0x450e('0x45')]);_0x5e3523[_0x450e('0x19')]['moleculeLoaded'](_0x5e3523[_0x450e('0x10')]);objects={};for(let _0x87fb71 in _0x2d628c[_0x450e('0x3c')][_0x450e('0x6')]){let _0x2f9efd=_0x2d628c[_0x450e('0x3c')][_0x450e('0x6')][_0x87fb71];_0x2f9efd['id']=_0x87fb71;_0x5e3523[_0x2f9efd[_0x450e('0x46')]][_0x450e('0x47')](_0x2f9efd);}}}};var _0x5e8d12=function(_0x53d4ff){_0x53d4ff['az']['id']=_0x53d4ff['az']['conf']['id'];if(_0x53d4ff['az']['conf'][_0x450e('0x2d')]){_0x53d4ff['rotation']['x']=parseInt(Drupal['atomizer'][_0x450e('0x38')][_0x450e('0x48')](_0x53d4ff['az']['conf'][_0x450e('0x2d')][0x0]));_0x53d4ff[_0x450e('0x2d')]['y']=parseInt(Drupal[_0x450e('0x0')][_0x450e('0x38')]['toRadians'](_0x53d4ff['az'][_0x450e('0x3c')][_0x450e('0x2d')][0x1]));_0x53d4ff[_0x450e('0x2d')]['z']=parseInt(Drupal[_0x450e('0x0')][_0x450e('0x38')]['toRadians'](_0x53d4ff['az'][_0x450e('0x3c')]['rotation'][0x2]));}let _0x402848=new THREE['Object3D']();_0x402848[_0x450e('0xb')]='objectShell';if(_0x53d4ff['az']['conf'][_0x450e('0x17')]){_0x402848[_0x450e('0x17')][_0x450e('0x49')](..._0x53d4ff['az'][_0x450e('0x3c')][_0x450e('0x17')]);}_0x402848[_0x450e('0x11')](_0x53d4ff);_0x4885f0(_0x53d4ff);_0x5e3523[_0x450e('0x19')][_0x450e('0x4a')](_0x53d4ff);_0x5e3523[_0x450e('0x31')][_0x450e('0x4a')](_0x53d4ff);if(_0x53d4ff['az']['conf'][_0x450e('0x4b')]){_0x3ab9d1(_0x5e3523['controls']['mouse'],_0x53d4ff);}_0x5e3523[_0x450e('0x1a')]();};let _0x4b6a5d=function(){let _0x408511=_0x5e3523[_0x450e('0x4c')]['getContext']('2d');_0x5e3523['nuclet']=Drupal[_0x450e('0x0')][_0x450e('0x4d')](_0x5e3523);_0x5e3523[_0x450e('0x2a')]=Drupal[_0x450e('0x0')][_0x450e('0x4e')](_0x5e3523);_0x5e3523[_0x450e('0x4f')]=Drupal['atomizer'][_0x450e('0x50')](_0x5e3523);_0x5e3523[_0x450e('0x51')]=Drupal['atomizer']['spritesC'](_0x5e3523);_0x5e3523['labels']=Drupal['atomizer']['labelsC'](_0x5e3523);_0x5e3523[_0x450e('0x52')]=Drupal['atomizer'][_0x450e('0x53')](_0x5e3523);_0x5e3523['snapshot']=Drupal[_0x450e('0x0')]['snapshotC'](_0x5e3523);_0x5e3523['dir_atom']=Drupal[_0x450e('0x0')][_0x450e('0x54')](_0x5e3523);_0x5e3523[_0x450e('0x55')]=Drupal[_0x450e('0x0')][_0x450e('0x56')](_0x5e3523,![]);_0x5e3523[_0x450e('0x19')]=Drupal[_0x450e('0x0')][_0x450e('0x57')](_0x5e3523);let _0x196747=_0x3471b2('#select-molecule-wrapper\x20.select-item-wrapper\x20a');_0x3471b2(_0x450e('0x58'))[_0x450e('0x59')](_0x146e81=>{let _0xed6993=_0x3471b2(_0x146e81[_0x450e('0x5a')])[_0x450e('0x5b')]('a');let _0x457887=_0xed6993[_0x450e('0x5c')]('nid');_0x457241({'nid':_0x457887});});_0x45c1e1=localStorage[_0x450e('0x5d')](_0x450e('0x44'));_0x45c1e1=!_0x45c1e1||_0x45c1e1==_0x450e('0x5e')?0x523:_0x45c1e1;_0x457241({'nid':_0x45c1e1});};const _0x5686a7=()=>{var _0x114aa1=_0x3471b2(_0x450e('0x5f'),_0x5e3523['context']);_0x428e4d[_0x450e('0x60')](_0x450e('0x61'));if(_0x114aa1['length']){_0x5e3523[_0x450e('0x8')]['mouse'][_0x450e('0x1e')]=_0x114aa1[_0x450e('0x62')](_0x450e('0x63'))[_0x450e('0x64')]();var _0x1571d0=_0x114aa1[_0x450e('0x62')](_0x450e('0x65'));_0x1571d0['click'](function(_0x32395d){console[_0x450e('0xd')](_0x450e('0x66')+_0x32395d[_0x450e('0x5a')][_0x450e('0x67')]);mouse['mode']=_0x32395d[_0x450e('0x5a')]['value'];if(mouse['mode']==_0x450e('0x23')){_0x428e4d[_0x450e('0x68')](_0x450e('0x61'));}else{_0x428e4d[_0x450e('0x60')](_0x450e('0x61'));}});_0x114aa1[_0x450e('0x62')](_0x450e('0x69'))[_0x450e('0x60')](_0x450e('0x6a'));_0x5e3523['controls']['mouse'][_0x450e('0x6b')]='original';var _0x4ab4cf=_0x114aa1[_0x450e('0x62')](_0x450e('0x6c'));_0x4ab4cf[_0x450e('0x6d')](function(){var _0x12c6ad=_0x3471b2(this)[_0x450e('0x6e')]('id')[_0x450e('0x6f')]('-')[0x1];if(_0x12c6ad!='original'){var _0x1eb894=_0x5e3523[_0x450e('0x70')][_0x450e('0x71')](_0x450e('0x72')+_0x12c6ad+_0x450e('0x73'),'lighten');_0x3471b2(this)[_0x450e('0x74')](_0x450e('0x75'),_0x1eb894[_0x450e('0x76')]);}});_0x4ab4cf[_0x450e('0x59')](function(_0x4c1955){_0x4ab4cf[_0x450e('0x68')](_0x450e('0x6a'));_0x3471b2(this)[_0x450e('0x60')](_0x450e('0x6a'));var _0x280289=_0x3471b2(this)[_0x450e('0x12')]()[_0x450e('0x12')]()['find'](_0x450e('0x77'));_0x280289[_0x450e('0x78')](_0x450e('0x79'),!![]);_0x5e3523[_0x450e('0x8')][_0x450e('0x7a')][_0x450e('0x6b')]=_0x280289[_0x450e('0x64')]();});}};const _0x371b61=_0x150bec=>{_0x5e3523[_0x450e('0x31')][_0x450e('0x7b')](atom,_0x150bec);};const _0x5cd796=()=>{_0x5c7b7c={'visibleParticles':[],'visibleProtons':[],'visibleNElectrons':[],'hoverInnerFaces':[],'hoverOuterFaces':[],'optionalProtons':[]};};const _0x20243b=()=>{let _0x2cd15d=_0x5e3523[_0x450e('0x6')][_0x450e('0x1c')];for(let _0x2e225d in _0x5e3523['objects']){let _0x262bfe=_0x5e3523[_0x450e('0x6')][_0x2e225d];if(_0x262bfe['az'][_0x450e('0x3c')]['type']=='atom'){_0x5c7b7c[_0x450e('0x20')]=_0x5c7b7c[_0x450e('0x20')][_0x450e('0x7c')](_0x262bfe['az'][_0x450e('0x7d')][_0x450e('0x20')]);_0x5c7b7c['visibleProtons']=_0x5c7b7c['visibleProtons'][_0x450e('0x7c')](_0x262bfe['az'][_0x450e('0x7d')][_0x450e('0x24')]);_0x5c7b7c[_0x450e('0x7e')]=_0x5c7b7c[_0x450e('0x7e')]['concat'](_0x262bfe['az']['intersect'][_0x450e('0x7e')]);_0x5c7b7c[_0x450e('0x22')]=_0x5c7b7c[_0x450e('0x22')][_0x450e('0x7c')](_0x262bfe['az']['intersect'][_0x450e('0x22')]);}}};_0x5686a7();return{'createView':_0x4b6a5d,'objectLoaded':_0x5e8d12,'createUniqueObjectKey':_0x3f6a64,'getObject':_0x450c4e,'addObject':_0x4885f0,'deleteObject':_0x18b5f0,'clearScene':_0x549b55,'grabObject':_0x3ab9d1,'explode':_0x371b61,'updateIntersectLists':_0x20243b,'mouseUp':_0x14cc27,'mouseDown':_0x41cff3,'mouseMove':_0x2a530d,'intersect':_0x5c7b7c,'hoverObjects':_0x4b3b3a};};}(jQuery));