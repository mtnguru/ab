var _0x263f=['setPositionSliders','mouse:\x20','hasOwnProperty','mode','atomsMove','visibleParticles','electronsAdd','visibleProtons','outer-faces','changeControlsMode','prod_scene::setControlsObject','none','length','atom','copy','objectStartRotation','rotation','changeControlsSettings','dir_atom','findIntersects','which','setEditAtom','protonsColor','inner-faces','mouseDown','render','hovered:\x20','intersects','mouseMove','atomizer','base','doAjax','/ajax/loadMolecule','command','loadMoleculeCommand','data','conf','title','name','properties','information','link','html','labels','display','setItem','moleculeLoaded','type','loadObject','toRadians','Object3D','objectShell','set','objectLoaded','needsPosition','mouse','canvas','nucletC','shapes','shapesC','sprites','labelsC','animation','animationC','snapshot','snapshotC','dir_atomC','atom_select','dir_moleculeC','#select-molecule-wrapper\x20.select-item-wrapper\x20a','target','nid','getItem','atomizer_scene_nid','#blocks--mouse-mode','addClass','az-hidden','find','input[name=mouse]:checked','val','#edit-mouse--wrapper\x20input','mode:\x20','value','#proton-original-color','protonColor','.proton-color','original','theme','getColor','proton-','--color','lighten','background-color','hex','removeClass','selected','input','prop','checked','explode','concat','intersect','visibleNElectrons','optionalProtons','hoverOuterFaces','prod_sceneC','.scene--name,\x20.az-scene-name,\x20.az-canvas-labels','context','.scene--information','.scene--properties','objects','#edit-proton-colors--wrapper','controls','mouseMode','scene','remove','deleteObject','log','toLowerCase','replace','add','parent','now','down','ctrlKey','object','position','shiftKey','objectStartPosition','dir_molecule'];(function(_0x4a1024,_0x1b42df){var _0x2c438e=function(_0x1c69ad){while(--_0x1c69ad){_0x4a1024['push'](_0x4a1024['shift']());}};_0x2c438e(++_0x1b42df);}(_0x263f,0x1ef));var _0x3fe4=function(_0x16d4ba,_0x90c921){_0x16d4ba=_0x16d4ba-0x0;var _0x22d5d8=_0x263f[_0x16d4ba];return _0x22d5d8;};(function(_0x1a10b1){Drupal['atomizer'][_0x3fe4('0x0')]=function(_0x2fc4a1){let _0x5953b3=_0x2fc4a1;let _0x1de6ab;let _0x2ab2eb;var _0x2b0ea8=_0x1a10b1(_0x3fe4('0x1'),_0x5953b3[_0x3fe4('0x2')]);var _0x44fa19=_0x1a10b1(_0x3fe4('0x3'),_0x5953b3[_0x3fe4('0x2')]);var _0xf44e4=_0x1a10b1(_0x3fe4('0x4'),_0x5953b3['context']);_0x5953b3[_0x3fe4('0x5')]={};let _0x24f68c={};let _0x397729=![];var _0x4c1b85=_0x1a10b1(_0x3fe4('0x6'),_0x5953b3['context']);_0x5953b3[_0x3fe4('0x7')][_0x3fe4('0x8')]('electronsAdd');const _0x229ee4=_0x2ea2c3=>{let _0x47f8f1=_0x5953b3[_0x3fe4('0x5')][_0x2ea2c3];if(_0x47f8f1){_0x5953b3[_0x3fe4('0x9')][_0x3fe4('0xa')](_0x47f8f1);_0x5953b3[_0x47f8f1['name']][_0x3fe4('0xb')](_0x47f8f1);delete _0x5953b3[_0x3fe4('0x5')][_0x47f8f1['az']['id']];}else{console[_0x3fe4('0xc')]('Could\x20not\x20delete\x20object\x20-\x20not\x20found:\x20'+_0x2ea2c3);}};const _0x50bb91=_0x5c63db=>{let _0x114d00=0x0;let _0x2f6b01;do{_0x2f6b01=_0x5c63db[_0x3fe4('0xd')]()[_0x3fe4('0xe')]('\x20','-')+'-'+ ++_0x114d00;}while(_0x5953b3[_0x3fe4('0x5')][_0x2f6b01]);return _0x2f6b01;};const _0x3d0ef7=_0x31cbe7=>{_0x5953b3['objects'][_0x31cbe7['az']['id']]=_0x31cbe7;_0x5953b3[_0x3fe4('0x9')][_0x3fe4('0xf')](_0x31cbe7[_0x3fe4('0x10')]);};const _0x5cf171=_0x22e81a=>_0x5953b3[_0x3fe4('0x5')][_0x22e81a];const _0x5dd83c=(_0x287f62,_0x16c6a9)=>{let _0x146fa4=0x2bc*(_0x16c6a9[_0x3fe4('0x11')]['x']-_0x16c6a9[_0x3fe4('0x12')]['x']);let _0x4d992c=0x2bc*(_0x16c6a9['now']['y']-_0x16c6a9['down']['y']);if(_0x287f62[_0x3fe4('0x13')]){_0x16c6a9[_0x3fe4('0x14')][_0x3fe4('0x10')][_0x3fe4('0x15')]['z']=_0x16c6a9['objectStartPosition']['z']-_0x146fa4;_0x16c6a9[_0x3fe4('0x14')][_0x3fe4('0x10')][_0x3fe4('0x15')]['y']=_0x16c6a9['objectStartPosition']['y']+_0x4d992c;}else if(_0x287f62[_0x3fe4('0x16')]){_0x16c6a9[_0x3fe4('0x14')][_0x3fe4('0x10')][_0x3fe4('0x15')]['x']=_0x16c6a9['objectStartPosition']['x']-_0x146fa4;_0x16c6a9['object'][_0x3fe4('0x10')][_0x3fe4('0x15')]['z']=_0x16c6a9[_0x3fe4('0x17')]['z']+_0x4d992c;}else{_0x16c6a9[_0x3fe4('0x14')][_0x3fe4('0x10')]['position']['x']=_0x16c6a9[_0x3fe4('0x17')]['x']-_0x146fa4;_0x16c6a9[_0x3fe4('0x14')][_0x3fe4('0x10')][_0x3fe4('0x15')]['y']=_0x16c6a9[_0x3fe4('0x17')]['y']+_0x4d992c;}_0x5953b3[_0x3fe4('0x18')][_0x3fe4('0x19')](_0x16c6a9[_0x3fe4('0x14')]);console[_0x3fe4('0xc')](_0x3fe4('0x1a')+_0x16c6a9[_0x3fe4('0x11')]['x']+'\x20'+_0x16c6a9[_0x3fe4('0x11')]['y']);_0x5953b3['render']();};const _0x3308c5=()=>{var _0x4562a9=Object['keys'](_0x5953b3[_0x3fe4('0x5')]);if(_0x4562a9['length']){for(let _0x42c4d9 in _0x5953b3[_0x3fe4('0x5')]){if(_0x5953b3['objects'][_0x3fe4('0x1b')](_0x42c4d9)){_0x229ee4(_0x42c4d9);}}}};var _0x29c271=function _0x29c271(_0x3bf7c9){switch(_0x3bf7c9[_0x3fe4('0x1c')]){case'none':return null;case _0x3fe4('0x1d'):return _0x24f68c[_0x3fe4('0x1e')];case _0x3fe4('0x1f'):return _0x24f68c[_0x3fe4('0x1e')];case'protonsAdd':return _0x24f68c['optionalProtons'];case'protonsColor':return _0x24f68c[_0x3fe4('0x20')];case'inner-faces':return _0x24f68c['hoverInnerFaces'];case _0x3fe4('0x21'):return _0x24f68c['hoverOuterFaces'];}};const _0x28ca61=(_0x265c93,_0x3928ae)=>{if(_0x3928ae){_0x5953b3['controls'][_0x3fe4('0x22')](_0x3fe4('0x23'),_0x3fe4('0x24'));}else{_0x5953b3['controls'][_0x3fe4('0x22')]('prod_scene::setControlsObject',_0x3fe4('0x9'));}};const _0x307ed3=_0x30db2c=>{if(!_0x30db2c[_0x3fe4('0x25')])return null;if(_0x30db2c[0x0][_0x3fe4('0x14')]['az'])return _0x30db2c[0x0][_0x3fe4('0x14')]['az']['nuclet'][_0x3fe4('0x26')];return _0x30db2c[0x0]['object'][_0x3fe4('0x10')]['parent']['parent']['az'][_0x3fe4('0x26')];};const _0x3b9e58=(_0xa3251b,_0x40d389)=>{if(_0x40d389){_0xa3251b[_0x3fe4('0x14')]=_0x40d389;_0xa3251b[_0x3fe4('0x17')][_0x3fe4('0x27')](_0x40d389['parent'][_0x3fe4('0x15')]);_0xa3251b[_0x3fe4('0x28')]['copy'](_0x40d389[_0x3fe4('0x29')]);_0x5953b3[_0x3fe4('0x7')][_0x3fe4('0x2a')]({'enablePan':![]});}else{_0xa3251b[_0x3fe4('0x14')]=null;_0x5953b3[_0x3fe4('0x7')][_0x3fe4('0x2a')]({'enablePan':!![]});}};const _0x5e1d13=(_0x492d56,_0x1f29e4)=>{_0x492d56['preventDefault']();_0x397729=![];if(_0x1f29e4[_0x3fe4('0x1c')]==_0x3fe4('0x1d')){switch(_0x492d56['which']){case 0x1:break;case 0x2:break;case 0x3:_0x1f29e4[_0x3fe4('0x14')]=null;break;}}else{_0x5953b3[_0x3fe4('0x2b')]['mouseUp'](_0x492d56,_0x1f29e4);}};const _0x284698=(_0xe591f0,_0x147117)=>{_0xe591f0['preventDefault']();_0x397729=!![];switch(_0x147117[_0x3fe4('0x1c')]){case _0x3fe4('0x24'):return null;case'atomsMove':let _0x4df267=_0x307ed3(_0x5953b3['controls'][_0x3fe4('0x2c')](_0x24f68c['visibleParticles']));switch(_0xe591f0[_0x3fe4('0x2d')]){case 0x1:break;case 0x2:_0x5953b3['dir_molecule'][_0x3fe4('0x2e')](_0x4df267);break;case 0x3:_0x3b9e58(_0x147117,_0x4df267);break;}break;case _0x3fe4('0x1f'):case'protonsAdd':case _0x3fe4('0x2f'):case _0x3fe4('0x30'):case _0x3fe4('0x21'):_0x5953b3[_0x3fe4('0x2b')][_0x3fe4('0x31')](_0xe591f0,_0x147117);break;}_0x5953b3[_0x3fe4('0x32')]();};let _0x2eec71=(_0xc08a43,_0x4f6bf4)=>{if(_0x4f6bf4[_0x3fe4('0x14')]){_0xc08a43['preventDefault']();_0x5dd83c(_0xc08a43,_0x4f6bf4);}else{if(_0x4f6bf4['intersects']){console[_0x3fe4('0xc')](_0x3fe4('0x33')+_0x4f6bf4[_0x3fe4('0x34')]['length']);}switch(_0x4f6bf4[_0x3fe4('0x1c')]){case _0x3fe4('0x24'):return null;case _0x3fe4('0x1d'):if(!_0x397729){}_0x5953b3[_0x3fe4('0x2b')][_0x3fe4('0x35')](_0xc08a43,_0x4f6bf4);break;case _0x3fe4('0x1f'):case'protonsAdd':case _0x3fe4('0x2f'):case'inner-faces':case _0x3fe4('0x21'):_0x5953b3[_0x3fe4('0x2b')][_0x3fe4('0x35')](_0xc08a43,_0x4f6bf4);break;}}};const _0x5cff83=function(_0x411d0e){Drupal[_0x3fe4('0x36')][_0x3fe4('0x37')][_0x3fe4('0x38')](_0x3fe4('0x39'),{'conf':_0x411d0e},_0x57290e);};const _0x57290e=function(_0x489e17){for(var _0x59a9af=0x0;_0x59a9af<_0x489e17['length'];_0x59a9af++){if(_0x489e17[_0x59a9af][_0x3fe4('0x3a')]==_0x3fe4('0x3b')){_0x3308c5();_0x5ea520();_0x5953b3[_0x3fe4('0x32')]();_0x5953b3[_0x3fe4('0x5')]={};let _0x310ac6=_0x489e17[_0x59a9af][_0x3fe4('0x3c')];_0x5953b3['scene']['az']={'conf':_0x310ac6[_0x3fe4('0x3d')],'title':_0x310ac6[_0x3fe4('0x3e')],'name':_0x310ac6[_0x3fe4('0x3f')],'sceneNid':_0x310ac6['nid'],'properties':_0x310ac6[_0x3fe4('0x40')],'information':_0x310ac6[_0x3fe4('0x41')],'link':_0x310ac6[_0x3fe4('0x42')]};if(_0x2b0ea8){_0x2b0ea8[_0x3fe4('0x43')](_0x310ac6['title']);}if(_0x44fa19&&_0x310ac6[_0x3fe4('0x41')]){_0x44fa19[_0x3fe4('0x43')](_0x310ac6[_0x3fe4('0x41')]);}if(_0xf44e4&&_0x310ac6['properties']){_0xf44e4['html'](_0x310ac6[_0x3fe4('0x40')]);}_0x5953b3[_0x3fe4('0x44')][_0x3fe4('0x45')]();localStorage[_0x3fe4('0x46')]('atomizer_scene_nid',_0x310ac6[_0x3fe4('0x3d')]['nid']);_0x5953b3[_0x3fe4('0x18')][_0x3fe4('0x47')](_0x5953b3[_0x3fe4('0x9')]);objects={};for(let _0x3aa0d9 in _0x310ac6['conf'][_0x3fe4('0x5')]){let _0x2ee496=_0x310ac6[_0x3fe4('0x3d')][_0x3fe4('0x5')][_0x3aa0d9];_0x2ee496['id']=_0x3aa0d9;_0x5953b3[_0x2ee496[_0x3fe4('0x48')]][_0x3fe4('0x49')](_0x2ee496);}}}};var _0x5b5c98=function(_0x566b06){_0x566b06['az']['id']=_0x566b06['az'][_0x3fe4('0x3d')]['id'];if(_0x566b06['az']['conf'][_0x3fe4('0x29')]){_0x566b06['rotation']['x']=parseInt(Drupal[_0x3fe4('0x36')][_0x3fe4('0x37')][_0x3fe4('0x4a')](_0x566b06['az'][_0x3fe4('0x3d')][_0x3fe4('0x29')][0x0]));_0x566b06[_0x3fe4('0x29')]['y']=parseInt(Drupal[_0x3fe4('0x36')][_0x3fe4('0x37')][_0x3fe4('0x4a')](_0x566b06['az'][_0x3fe4('0x3d')][_0x3fe4('0x29')][0x1]));_0x566b06[_0x3fe4('0x29')]['z']=parseInt(Drupal[_0x3fe4('0x36')][_0x3fe4('0x37')][_0x3fe4('0x4a')](_0x566b06['az'][_0x3fe4('0x3d')][_0x3fe4('0x29')][0x2]));}let _0x2f1d31=new THREE[(_0x3fe4('0x4b'))]();_0x2f1d31[_0x3fe4('0x3f')]=_0x3fe4('0x4c');if(_0x566b06['az']['conf']['position']){_0x2f1d31[_0x3fe4('0x15')][_0x3fe4('0x4d')](..._0x566b06['az'][_0x3fe4('0x3d')][_0x3fe4('0x15')]);}_0x2f1d31[_0x3fe4('0xf')](_0x566b06);_0x3d0ef7(_0x566b06);_0x5953b3['dir_molecule']['objectLoaded'](_0x566b06);_0x5953b3[_0x3fe4('0x2b')][_0x3fe4('0x4e')](_0x566b06);if(_0x566b06['az'][_0x3fe4('0x3d')][_0x3fe4('0x4f')]){_0x3b9e58(_0x5953b3['controls'][_0x3fe4('0x50')],_0x566b06);}_0x5953b3[_0x3fe4('0x32')]();};let _0x50821c=function(){let _0x35f12a=_0x5953b3[_0x3fe4('0x51')]['getContext']('2d');_0x5953b3['nuclet']=Drupal[_0x3fe4('0x36')][_0x3fe4('0x52')](_0x5953b3);_0x5953b3['atom']=Drupal[_0x3fe4('0x36')]['atomC'](_0x5953b3);_0x5953b3[_0x3fe4('0x53')]=Drupal[_0x3fe4('0x36')][_0x3fe4('0x54')](_0x5953b3);_0x5953b3[_0x3fe4('0x55')]=Drupal['atomizer']['spritesC'](_0x5953b3);_0x5953b3['labels']=Drupal[_0x3fe4('0x36')][_0x3fe4('0x56')](_0x5953b3);_0x5953b3[_0x3fe4('0x57')]=Drupal[_0x3fe4('0x36')][_0x3fe4('0x58')](_0x5953b3);_0x5953b3[_0x3fe4('0x59')]=Drupal[_0x3fe4('0x36')][_0x3fe4('0x5a')](_0x5953b3);_0x5953b3[_0x3fe4('0x2b')]=Drupal['atomizer'][_0x3fe4('0x5b')](_0x5953b3);_0x5953b3[_0x3fe4('0x5c')]=Drupal[_0x3fe4('0x36')]['atom_selectC'](_0x5953b3,![]);_0x5953b3[_0x3fe4('0x18')]=Drupal['atomizer'][_0x3fe4('0x5d')](_0x5953b3);let _0x2272a9=_0x1a10b1(_0x3fe4('0x5e'));_0x1a10b1('#select-molecule-wrapper\x20.select-item-wrapper\x20a')['click'](_0x491e67=>{let _0x578ea3=_0x1a10b1(_0x491e67[_0x3fe4('0x5f')])['closest']('a');let _0x2cc1e4=_0x578ea3[_0x3fe4('0x3c')](_0x3fe4('0x60'));_0x5cff83({'nid':_0x2cc1e4});});_0x2ab2eb=localStorage[_0x3fe4('0x61')](_0x3fe4('0x62'));_0x2ab2eb=!_0x2ab2eb||_0x2ab2eb=='undefined'?0x523:_0x2ab2eb;_0x5cff83({'nid':_0x2ab2eb});};const _0x473967=()=>{var _0x161399=_0x1a10b1(_0x3fe4('0x63'),_0x5953b3[_0x3fe4('0x2')]);_0x4c1b85[_0x3fe4('0x64')](_0x3fe4('0x65'));if(_0x161399[_0x3fe4('0x25')]){_0x5953b3[_0x3fe4('0x7')]['mouse'][_0x3fe4('0x1c')]=_0x161399[_0x3fe4('0x66')](_0x3fe4('0x67'))[_0x3fe4('0x68')]();var _0x1ddb86=_0x161399[_0x3fe4('0x66')](_0x3fe4('0x69'));_0x1ddb86['click'](function(_0x5e05aa){console[_0x3fe4('0xc')](_0x3fe4('0x6a')+_0x5e05aa['target'][_0x3fe4('0x6b')]);mouse['mode']=_0x5e05aa['target'][_0x3fe4('0x6b')];if(mouse['mode']==_0x3fe4('0x2f')){_0x4c1b85['removeClass'](_0x3fe4('0x65'));}else{_0x4c1b85[_0x3fe4('0x64')](_0x3fe4('0x65'));}});_0x161399['find'](_0x3fe4('0x6c'))[_0x3fe4('0x64')]('selected');_0x5953b3[_0x3fe4('0x7')]['mouse'][_0x3fe4('0x6d')]='original';var _0x3210a5=_0x161399[_0x3fe4('0x66')](_0x3fe4('0x6e'));_0x3210a5['each'](function(){var _0x105c78=_0x1a10b1(this)['attr']('id')['split']('-')[0x1];if(_0x105c78!=_0x3fe4('0x6f')){var _0x304b58=_0x5953b3[_0x3fe4('0x70')][_0x3fe4('0x71')](_0x3fe4('0x72')+_0x105c78+_0x3fe4('0x73'),_0x3fe4('0x74'));_0x1a10b1(this)['css'](_0x3fe4('0x75'),_0x304b58[_0x3fe4('0x76')]);}});_0x3210a5['click'](function(_0x120282){_0x3210a5[_0x3fe4('0x77')](_0x3fe4('0x78'));_0x1a10b1(this)[_0x3fe4('0x64')]('selected');var _0x4a0546=_0x1a10b1(this)[_0x3fe4('0x10')]()[_0x3fe4('0x10')]()[_0x3fe4('0x66')](_0x3fe4('0x79'));_0x4a0546[_0x3fe4('0x7a')](_0x3fe4('0x7b'),!![]);_0x5953b3[_0x3fe4('0x7')]['mouse'][_0x3fe4('0x6d')]=_0x4a0546[_0x3fe4('0x68')]();});}};const _0xbfb057=_0x4f1963=>{_0x5953b3[_0x3fe4('0x2b')][_0x3fe4('0x7c')](atom,_0x4f1963);};const _0x5ea520=()=>{_0x24f68c={'visibleParticles':[],'visibleProtons':[],'visibleNElectrons':[],'hoverInnerFaces':[],'hoverOuterFaces':[],'optionalProtons':[]};};const _0x3c8357=()=>{let _0xab233b=_0x5953b3[_0x3fe4('0x5')][_0x3fe4('0x25')];for(let _0x3ad4b3 in _0x5953b3['objects']){let _0xe077a7=_0x5953b3[_0x3fe4('0x5')][_0x3ad4b3];if(_0xe077a7['az'][_0x3fe4('0x3d')][_0x3fe4('0x48')]==_0x3fe4('0x26')){_0x24f68c['visibleParticles']=_0x24f68c[_0x3fe4('0x1e')][_0x3fe4('0x7d')](_0xe077a7['az']['intersect'][_0x3fe4('0x1e')]);_0x24f68c[_0x3fe4('0x20')]=_0x24f68c[_0x3fe4('0x20')][_0x3fe4('0x7d')](_0xe077a7['az'][_0x3fe4('0x7e')][_0x3fe4('0x20')]);_0x24f68c[_0x3fe4('0x7f')]=_0x24f68c[_0x3fe4('0x7f')][_0x3fe4('0x7d')](_0xe077a7['az']['intersect'][_0x3fe4('0x7f')]);_0x24f68c[_0x3fe4('0x80')]=_0x24f68c[_0x3fe4('0x80')][_0x3fe4('0x7d')](_0xe077a7['az'][_0x3fe4('0x7e')][_0x3fe4('0x80')]);_0x24f68c[_0x3fe4('0x81')]=_0x24f68c[_0x3fe4('0x81')][_0x3fe4('0x7d')](_0xe077a7['az']['intersect'][_0x3fe4('0x81')]);}}};_0x473967();return{'createView':_0x50821c,'objectLoaded':_0x5b5c98,'createUniqueObjectKey':_0x50bb91,'getObject':_0x5cf171,'addObject':_0x3d0ef7,'deleteObject':_0x229ee4,'clearScene':_0x3308c5,'grabObject':_0x3b9e58,'explode':_0xbfb057,'updateIntersectLists':_0x3c8357,'mouseUp':_0x5e1d13,'mouseDown':_0x284698,'mouseMove':_0x2eec71,'intersect':_0x24f68c,'hoverObjects':_0x29c271};};}(jQuery));