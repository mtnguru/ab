var _0x2c0b=['hovered:\x20','intersects','mouseMove','protonsAdd','atomizer','base','doAjax','/ajax/loadMolecule','render','conf','nid','information','link','html','properties','labels','display','setItem','atomizer_scene_nid','moleculeLoaded','scene','loadObject','toRadians','Object3D','objectShell','set','objectLoaded','canvas','getContext','atomC','shapes','shapesC','sprites','spritesC','labelsC','snapshot','snapshotC','dir_atomC','atom_select','atom_selectC','dir_moleculeC','#select-molecule-wrapper\x20.select-item-wrapper\x20a','click','data','getItem','undefined','addClass','az-hidden','find','input[name=mouse]:checked','val','#edit-mouse--wrapper\x20input','mode:\x20','target','value','removeClass','#proton-original-color','selected','original','attr','split','theme','proton-','--color','lighten','css','background-color','hex','input','prop','checked','mouse','protonColor','explode','type','concat','intersect','visibleNElectrons','optionalProtons','prod_sceneC','.scene--name,\x20.az-scene-name,\x20.az-canvas-labels','context','.scene--properties','objects','#edit-proton-colors--wrapper','controls','mouseMode','electronsAdd','remove','name','log','toLowerCase','replace','add','parent','now','down','ctrlKey','objectStartPosition','object','position','shiftKey','dir_molecule','setPositionSliders','mouse:\x20','keys','length','hasOwnProperty','mode','none','atomsMove','visibleParticles','protonsColor','visibleProtons','inner-faces','hoverInnerFaces','outer-faces','hoverOuterFaces','prod_scene::setControlsObject','changeControlsMode','nuclet','atom','copy','objectStartRotation','rotation','changeControlsSettings','preventDefault','which','dir_atom','findIntersects','setEditAtom'];(function(_0x3c929a,_0xab407f){var _0x5d654c=function(_0xb2269d){while(--_0xb2269d){_0x3c929a['push'](_0x3c929a['shift']());}};_0x5d654c(++_0xab407f);}(_0x2c0b,0x1d8));var _0x257b=function(_0x1d7aac,_0x5730a8){_0x1d7aac=_0x1d7aac-0x0;var _0x315618=_0x2c0b[_0x1d7aac];return _0x315618;};(function(_0x320d1f){Drupal['atomizer'][_0x257b('0x0')]=function(_0x13b3ee){let _0x38843a=_0x13b3ee;let _0x4a986c;let _0x4e06f6;var _0xb2681a=_0x320d1f(_0x257b('0x1'),_0x38843a[_0x257b('0x2')]);var _0x2eb8b3=_0x320d1f('.scene--information',_0x38843a['context']);var _0x1bd310=_0x320d1f(_0x257b('0x3'),_0x38843a[_0x257b('0x2')]);_0x38843a[_0x257b('0x4')]={};let _0x1bb2ed={};let _0x1276cb=![];var _0x4f4831=_0x320d1f(_0x257b('0x5'),_0x38843a['context']);_0x38843a[_0x257b('0x6')][_0x257b('0x7')](_0x257b('0x8'));const _0x3645b4=_0x293db6=>{let _0x447514=_0x38843a[_0x257b('0x4')][_0x293db6];if(_0x447514){_0x38843a['scene'][_0x257b('0x9')](_0x447514);_0x38843a[_0x447514[_0x257b('0xa')]]['deleteObject'](_0x447514);delete _0x38843a[_0x257b('0x4')][_0x447514['az']['id']];}else{console[_0x257b('0xb')]('Could\x20not\x20delete\x20object\x20-\x20not\x20found:\x20'+_0x293db6);}};const _0x2c70e0=_0x5868b4=>{let _0x477551=0x0;let _0xa61e6a;do{_0xa61e6a=_0x5868b4[_0x257b('0xc')]()[_0x257b('0xd')]('\x20','-')+'-'+ ++_0x477551;}while(_0x38843a[_0x257b('0x4')][_0xa61e6a]);return _0xa61e6a;};const _0x450d7a=_0x3dc396=>{_0x38843a['objects'][_0x3dc396['az']['id']]=_0x3dc396;_0x38843a['scene'][_0x257b('0xe')](_0x3dc396[_0x257b('0xf')]);};const _0x295274=_0x4b4b0c=>_0x38843a[_0x257b('0x4')][_0x4b4b0c];const _0x310122=(_0x482e6e,_0x5ed1af)=>{let _0x4c8cae=0x2bc*(_0x5ed1af[_0x257b('0x10')]['x']-_0x5ed1af[_0x257b('0x11')]['x']);let _0x34b056=0x2bc*(_0x5ed1af[_0x257b('0x10')]['y']-_0x5ed1af[_0x257b('0x11')]['y']);if(_0x482e6e[_0x257b('0x12')]){_0x5ed1af['object'][_0x257b('0xf')]['position']['z']=_0x5ed1af[_0x257b('0x13')]['z']-_0x4c8cae;_0x5ed1af[_0x257b('0x14')][_0x257b('0xf')][_0x257b('0x15')]['y']=_0x5ed1af['objectStartPosition']['y']+_0x34b056;}else if(_0x482e6e[_0x257b('0x16')]){_0x5ed1af[_0x257b('0x14')]['parent']['position']['x']=_0x5ed1af[_0x257b('0x13')]['x']-_0x4c8cae;_0x5ed1af[_0x257b('0x14')][_0x257b('0xf')]['position']['z']=_0x5ed1af[_0x257b('0x13')]['z']+_0x34b056;}else{_0x5ed1af['object'][_0x257b('0xf')][_0x257b('0x15')]['x']=_0x5ed1af[_0x257b('0x13')]['x']-_0x4c8cae;_0x5ed1af[_0x257b('0x14')]['parent'][_0x257b('0x15')]['y']=_0x5ed1af[_0x257b('0x13')]['y']+_0x34b056;}_0x38843a[_0x257b('0x17')][_0x257b('0x18')](_0x5ed1af[_0x257b('0x14')]);console['log'](_0x257b('0x19')+_0x5ed1af['now']['x']+'\x20'+_0x5ed1af[_0x257b('0x10')]['y']);_0x38843a['render']();};const _0xff6943=()=>{var _0x3a61e8=Object[_0x257b('0x1a')](_0x38843a[_0x257b('0x4')]);if(_0x3a61e8[_0x257b('0x1b')]){for(let _0xd8f44f in _0x38843a[_0x257b('0x4')]){if(_0x38843a[_0x257b('0x4')][_0x257b('0x1c')](_0xd8f44f)){_0x3645b4(_0xd8f44f);}}}};var _0x12151d=function _0x12151d(_0x3f65b1){switch(_0x3f65b1[_0x257b('0x1d')]){case _0x257b('0x1e'):return null;case _0x257b('0x1f'):return _0x1bb2ed[_0x257b('0x20')];case _0x257b('0x8'):return _0x1bb2ed['visibleParticles'];case'protonsAdd':return _0x1bb2ed['optionalProtons'];case _0x257b('0x21'):return _0x1bb2ed[_0x257b('0x22')];case _0x257b('0x23'):return _0x1bb2ed[_0x257b('0x24')];case _0x257b('0x25'):return _0x1bb2ed[_0x257b('0x26')];}};const _0x46dd06=(_0x160cfb,_0x45d57)=>{if(_0x45d57){_0x38843a[_0x257b('0x6')]['changeControlsMode'](_0x257b('0x27'),_0x257b('0x1e'));}else{_0x38843a[_0x257b('0x6')][_0x257b('0x28')]('prod_scene::setControlsObject','scene');}};const _0x44a780=_0x141e8c=>{if(!_0x141e8c[_0x257b('0x1b')])return null;if(_0x141e8c[0x0][_0x257b('0x14')]['az'])return _0x141e8c[0x0][_0x257b('0x14')]['az'][_0x257b('0x29')][_0x257b('0x2a')];return _0x141e8c[0x0]['object'][_0x257b('0xf')][_0x257b('0xf')][_0x257b('0xf')]['az'][_0x257b('0x2a')];};const _0x2f2e65=(_0x43cb68,_0x544df5)=>{if(_0x544df5){_0x43cb68[_0x257b('0x14')]=_0x544df5;_0x43cb68[_0x257b('0x13')][_0x257b('0x2b')](_0x544df5['parent'][_0x257b('0x15')]);_0x43cb68[_0x257b('0x2c')][_0x257b('0x2b')](_0x544df5[_0x257b('0x2d')]);_0x38843a[_0x257b('0x6')][_0x257b('0x2e')]({'enablePan':![]});}else{_0x43cb68[_0x257b('0x14')]=null;_0x38843a['controls'][_0x257b('0x2e')]({'enablePan':!![]});}};const _0x2a931c=(_0x58c67a,_0x246d4d)=>{_0x58c67a[_0x257b('0x2f')]();_0x1276cb=![];if(_0x246d4d[_0x257b('0x1d')]==_0x257b('0x1f')){switch(_0x58c67a[_0x257b('0x30')]){case 0x1:break;case 0x2:break;case 0x3:_0x246d4d['object']=null;break;}}else{_0x38843a[_0x257b('0x31')]['mouseUp'](_0x58c67a,_0x246d4d);}};const _0x3b7b84=(_0x515d02,_0xb99739)=>{_0x515d02[_0x257b('0x2f')]();_0x1276cb=!![];switch(_0xb99739[_0x257b('0x1d')]){case _0x257b('0x1e'):return null;case'atomsMove':let _0x2f143c=_0x44a780(_0x38843a['controls'][_0x257b('0x32')](_0x1bb2ed[_0x257b('0x20')]));switch(_0x515d02[_0x257b('0x30')]){case 0x1:break;case 0x2:_0x38843a['dir_molecule'][_0x257b('0x33')](_0x2f143c);break;case 0x3:_0x2f2e65(_0xb99739,_0x2f143c);break;}break;case'electronsAdd':case'protonsAdd':case _0x257b('0x21'):case'inner-faces':case _0x257b('0x25'):_0x38843a[_0x257b('0x31')]['mouseDown'](_0x515d02,_0xb99739);break;}_0x38843a['render']();};let _0x37dd51=(_0x24f17a,_0x5e55e9)=>{if(_0x5e55e9[_0x257b('0x14')]){_0x24f17a[_0x257b('0x2f')]();_0x310122(_0x24f17a,_0x5e55e9);}else{if(_0x5e55e9['intersects']){console[_0x257b('0xb')](_0x257b('0x34')+_0x5e55e9[_0x257b('0x35')][_0x257b('0x1b')]);}switch(_0x5e55e9[_0x257b('0x1d')]){case _0x257b('0x1e'):return null;case'atomsMove':if(!_0x1276cb){}_0x38843a[_0x257b('0x31')][_0x257b('0x36')](_0x24f17a,_0x5e55e9);break;case'electronsAdd':case _0x257b('0x37'):case _0x257b('0x21'):case _0x257b('0x23'):case _0x257b('0x25'):_0x38843a['dir_atom'][_0x257b('0x36')](_0x24f17a,_0x5e55e9);break;}}};const _0x2cadad=function(_0x316060){Drupal[_0x257b('0x38')][_0x257b('0x39')][_0x257b('0x3a')](_0x257b('0x3b'),{'conf':_0x316060},_0x51a959);};const _0x51a959=function(_0x576251){for(var _0x37fb78=0x0;_0x37fb78<_0x576251[_0x257b('0x1b')];_0x37fb78++){if(_0x576251[_0x37fb78]['command']=='loadMoleculeCommand'){_0xff6943();_0x3daa38();_0x38843a[_0x257b('0x3c')]();_0x38843a[_0x257b('0x4')]={};let _0x3e973c=_0x576251[_0x37fb78]['data'];_0x38843a['scene']['az']={'conf':_0x3e973c[_0x257b('0x3d')],'title':_0x3e973c['title'],'name':_0x3e973c[_0x257b('0xa')],'sceneNid':_0x3e973c[_0x257b('0x3e')],'properties':_0x3e973c['properties'],'information':_0x3e973c[_0x257b('0x3f')],'link':_0x3e973c[_0x257b('0x40')]};if(_0xb2681a){_0xb2681a[_0x257b('0x41')](_0x3e973c['title']);}if(_0x2eb8b3&&_0x3e973c[_0x257b('0x3f')]){_0x2eb8b3[_0x257b('0x41')](_0x3e973c[_0x257b('0x3f')]);}if(_0x1bd310&&_0x3e973c[_0x257b('0x42')]){_0x1bd310['html'](_0x3e973c[_0x257b('0x42')]);}_0x38843a[_0x257b('0x43')][_0x257b('0x44')]();localStorage[_0x257b('0x45')](_0x257b('0x46'),_0x3e973c['conf'][_0x257b('0x3e')]);_0x38843a[_0x257b('0x17')][_0x257b('0x47')](_0x38843a[_0x257b('0x48')]);objects={};for(let _0x3ceb34 in _0x3e973c['conf'][_0x257b('0x4')]){let _0x5d2b53=_0x3e973c['conf']['objects'][_0x3ceb34];_0x5d2b53['id']=_0x3ceb34;_0x38843a[_0x5d2b53['type']][_0x257b('0x49')](_0x5d2b53);}}}};var _0x3c9e7b=function(_0x38e3cc){_0x38e3cc['az']['id']=_0x38e3cc['az'][_0x257b('0x3d')]['id'];if(_0x38e3cc['az'][_0x257b('0x3d')][_0x257b('0x2d')]){_0x38e3cc[_0x257b('0x2d')]['x']=parseInt(Drupal[_0x257b('0x38')][_0x257b('0x39')][_0x257b('0x4a')](_0x38e3cc['az']['conf'][_0x257b('0x2d')][0x0]));_0x38e3cc[_0x257b('0x2d')]['y']=parseInt(Drupal['atomizer']['base']['toRadians'](_0x38e3cc['az']['conf']['rotation'][0x1]));_0x38e3cc['rotation']['z']=parseInt(Drupal[_0x257b('0x38')][_0x257b('0x39')]['toRadians'](_0x38e3cc['az'][_0x257b('0x3d')][_0x257b('0x2d')][0x2]));}let _0x5e158e=new THREE[(_0x257b('0x4b'))]();_0x5e158e[_0x257b('0xa')]=_0x257b('0x4c');if(_0x38e3cc['az'][_0x257b('0x3d')][_0x257b('0x15')]){_0x5e158e[_0x257b('0x15')][_0x257b('0x4d')](..._0x38e3cc['az'][_0x257b('0x3d')][_0x257b('0x15')]);}_0x5e158e[_0x257b('0xe')](_0x38e3cc);_0x450d7a(_0x38e3cc);_0x38843a['dir_molecule']['objectLoaded'](_0x38e3cc);_0x38843a[_0x257b('0x31')][_0x257b('0x4e')](_0x38e3cc);if(_0x38e3cc['az'][_0x257b('0x3d')]['needsPosition']){_0x2f2e65(_0x38843a[_0x257b('0x6')]['mouse'],_0x38e3cc);}_0x38843a[_0x257b('0x3c')]();};let _0x48e999=function(){let _0x5bcab2=_0x38843a[_0x257b('0x4f')][_0x257b('0x50')]('2d');_0x38843a['nuclet']=Drupal['atomizer']['nucletC'](_0x38843a);_0x38843a['atom']=Drupal[_0x257b('0x38')][_0x257b('0x51')](_0x38843a);_0x38843a[_0x257b('0x52')]=Drupal['atomizer'][_0x257b('0x53')](_0x38843a);_0x38843a[_0x257b('0x54')]=Drupal[_0x257b('0x38')][_0x257b('0x55')](_0x38843a);_0x38843a[_0x257b('0x43')]=Drupal[_0x257b('0x38')][_0x257b('0x56')](_0x38843a);_0x38843a['animation']=Drupal[_0x257b('0x38')]['animationC'](_0x38843a);_0x38843a[_0x257b('0x57')]=Drupal[_0x257b('0x38')][_0x257b('0x58')](_0x38843a);_0x38843a['dir_atom']=Drupal[_0x257b('0x38')][_0x257b('0x59')](_0x38843a);_0x38843a[_0x257b('0x5a')]=Drupal[_0x257b('0x38')][_0x257b('0x5b')](_0x38843a,![]);_0x38843a['dir_molecule']=Drupal[_0x257b('0x38')][_0x257b('0x5c')](_0x38843a);let _0x2db158=_0x320d1f('#select-molecule-wrapper\x20.select-item-wrapper\x20a');_0x320d1f(_0x257b('0x5d'))[_0x257b('0x5e')](_0xcbe41a=>{let _0x5e1a94=_0x320d1f(_0xcbe41a['target'])['closest']('a');let _0x31b689=_0x5e1a94[_0x257b('0x5f')](_0x257b('0x3e'));_0x2cadad({'nid':_0x31b689});});_0x4e06f6=localStorage[_0x257b('0x60')](_0x257b('0x46'));_0x4e06f6=!_0x4e06f6||_0x4e06f6==_0x257b('0x61')?0x523:_0x4e06f6;_0x2cadad({'nid':_0x4e06f6});};const _0x23af0c=()=>{var _0x5a2757=_0x320d1f('#blocks--mouse-mode',_0x38843a[_0x257b('0x2')]);_0x4f4831[_0x257b('0x62')](_0x257b('0x63'));if(_0x5a2757['length']){_0x38843a[_0x257b('0x6')]['mouse'][_0x257b('0x1d')]=_0x5a2757[_0x257b('0x64')](_0x257b('0x65'))[_0x257b('0x66')]();var _0x57408f=_0x5a2757[_0x257b('0x64')](_0x257b('0x67'));_0x57408f['click'](function(_0x43d023){console[_0x257b('0xb')](_0x257b('0x68')+_0x43d023[_0x257b('0x69')][_0x257b('0x6a')]);mouse[_0x257b('0x1d')]=_0x43d023[_0x257b('0x69')][_0x257b('0x6a')];if(mouse[_0x257b('0x1d')]==_0x257b('0x21')){_0x4f4831[_0x257b('0x6b')](_0x257b('0x63'));}else{_0x4f4831[_0x257b('0x62')](_0x257b('0x63'));}});_0x5a2757[_0x257b('0x64')](_0x257b('0x6c'))[_0x257b('0x62')](_0x257b('0x6d'));_0x38843a[_0x257b('0x6')]['mouse']['protonColor']=_0x257b('0x6e');var _0x43c2c0=_0x5a2757['find']('.proton-color');_0x43c2c0['each'](function(){var _0x253465=_0x320d1f(this)[_0x257b('0x6f')]('id')[_0x257b('0x70')]('-')[0x1];if(_0x253465!=_0x257b('0x6e')){var _0x1a35e7=_0x38843a[_0x257b('0x71')]['getColor'](_0x257b('0x72')+_0x253465+_0x257b('0x73'),_0x257b('0x74'));_0x320d1f(this)[_0x257b('0x75')](_0x257b('0x76'),_0x1a35e7[_0x257b('0x77')]);}});_0x43c2c0['click'](function(_0x267659){_0x43c2c0[_0x257b('0x6b')](_0x257b('0x6d'));_0x320d1f(this)[_0x257b('0x62')](_0x257b('0x6d'));var _0x2cde4c=_0x320d1f(this)[_0x257b('0xf')]()[_0x257b('0xf')]()[_0x257b('0x64')](_0x257b('0x78'));_0x2cde4c[_0x257b('0x79')](_0x257b('0x7a'),!![]);_0x38843a[_0x257b('0x6')][_0x257b('0x7b')][_0x257b('0x7c')]=_0x2cde4c[_0x257b('0x66')]();});}};const _0x51b724=_0x42bc37=>{_0x38843a['dir_atom'][_0x257b('0x7d')](atom,_0x42bc37);};const _0x3daa38=()=>{_0x1bb2ed={'visibleParticles':[],'visibleProtons':[],'visibleNElectrons':[],'hoverInnerFaces':[],'hoverOuterFaces':[],'optionalProtons':[]};};const _0x13e550=()=>{let _0x50df43=_0x38843a[_0x257b('0x4')][_0x257b('0x1b')];for(let _0x2f2493 in _0x38843a[_0x257b('0x4')]){let _0xc1013=_0x38843a[_0x257b('0x4')][_0x2f2493];if(_0xc1013['az'][_0x257b('0x3d')][_0x257b('0x7e')]==_0x257b('0x2a')){_0x1bb2ed[_0x257b('0x20')]=_0x1bb2ed[_0x257b('0x20')][_0x257b('0x7f')](_0xc1013['az']['intersect'][_0x257b('0x20')]);_0x1bb2ed['visibleProtons']=_0x1bb2ed[_0x257b('0x22')][_0x257b('0x7f')](_0xc1013['az'][_0x257b('0x80')][_0x257b('0x22')]);_0x1bb2ed[_0x257b('0x81')]=_0x1bb2ed[_0x257b('0x81')][_0x257b('0x7f')](_0xc1013['az']['intersect']['visibleNElectrons']);_0x1bb2ed[_0x257b('0x82')]=_0x1bb2ed[_0x257b('0x82')][_0x257b('0x7f')](_0xc1013['az'][_0x257b('0x80')][_0x257b('0x82')]);}}};_0x23af0c();return{'createView':_0x48e999,'objectLoaded':_0x3c9e7b,'createUniqueObjectKey':_0x2c70e0,'getObject':_0x295274,'addObject':_0x450d7a,'deleteObject':_0x3645b4,'clearScene':_0xff6943,'grabObject':_0x2f2e65,'explode':_0x51b724,'updateIntersectLists':_0x13e550,'mouseUp':_0x2a931c,'mouseDown':_0x3b7b84,'mouseMove':_0x37dd51,'intersect':_0x1bb2ed,'hoverObjects':_0x12151d};};}(jQuery));