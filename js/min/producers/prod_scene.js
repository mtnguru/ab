var _0x56f6=['remove','name','log','toLowerCase','replace','down','now','ctrlKey','object','parent','objectStartPosition','position','shiftKey','dir_molecule','mouse:\x20','render','keys','hasOwnProperty','mode','none','atomsMove','visibleParticles','protonsAdd','protonsColor','visibleProtons','inner-faces','hoverInnerFaces','hoverOuterFaces','controls','changeControlsMode','prod_scene::setControlsObject','length','nuclet','atom','copy','objectStartRotation','changeControlsSettings','which','mouseUp','preventDefault','setEditAtom','outer-faces','dir_atom','mouseDown','intersects','hovered:\x20','mouseMove','atomizer','base','command','loadMoleculeCommand','data','conf','title','nid','properties','link','html','information','labels','setItem','type','loadObject','rotation','toRadians','Object3D','objectShell','set','add','objectLoaded','needsPosition','shapes','shapesC','sprites','spritesC','labelsC','animation','animationC','snapshotC','dir_atomC','dir_moleculeC','click','closest','getItem','undefined','addClass','az-hidden','mouse','find','input[name=mouse]:checked','val','#edit-mouse--wrapper\x20input','mode:\x20','target','selected','.proton-color','each','attr','split','original','theme','proton-','--color','lighten','css','background-color','prop','checked','protonColor','explode','concat','intersect','visibleNElectrons','optionalProtons','prod_sceneC','.scene--name,\x20.az-scene-name,\x20.az-canvas-labels','context','.scene--information','objects','#edit-proton-colors--wrapper','mouseMode','electronsAdd','scene'];(function(_0x8808fb,_0x22e9ec){var _0x5c6a80=function(_0x43b0e3){while(--_0x43b0e3){_0x8808fb['push'](_0x8808fb['shift']());}};_0x5c6a80(++_0x22e9ec);}(_0x56f6,0xed));var _0x4131=function(_0x48a071,_0x273b0a){_0x48a071=_0x48a071-0x0;var _0x4e9e90=_0x56f6[_0x48a071];return _0x4e9e90;};(function(_0x306bc1){Drupal['atomizer'][_0x4131('0x0')]=function(_0x553d1b){let _0x3fde02=_0x553d1b;let _0x341395;let _0x551dc0;var _0x1a0225=_0x306bc1(_0x4131('0x1'),_0x3fde02[_0x4131('0x2')]);var _0x30ba10=_0x306bc1(_0x4131('0x3'),_0x3fde02['context']);var _0x851e7a=_0x306bc1('.scene--properties',_0x3fde02[_0x4131('0x2')]);_0x3fde02[_0x4131('0x4')]={};let _0x462e2b={};let _0x3f301d=![];var _0x2e27c7=_0x306bc1(_0x4131('0x5'),_0x3fde02[_0x4131('0x2')]);_0x3fde02['controls'][_0x4131('0x6')](_0x4131('0x7'));const _0x466c47=_0x335c8c=>{let _0x1d2c50=_0x3fde02['objects'][_0x335c8c];if(_0x1d2c50){_0x3fde02[_0x4131('0x8')][_0x4131('0x9')](_0x1d2c50);_0x3fde02[_0x1d2c50[_0x4131('0xa')]]['deleteObject'](_0x1d2c50);delete _0x3fde02[_0x4131('0x4')][_0x1d2c50['az']['id']];}else{console[_0x4131('0xb')]('Could\x20not\x20delete\x20object\x20-\x20not\x20found:\x20'+_0x335c8c);}};const _0x5cb0e5=_0x2cb719=>{let _0x452ae8=0x0;let _0x4bbe5c;do{_0x4bbe5c=_0x2cb719[_0x4131('0xc')]()[_0x4131('0xd')]('\x20','-')+'-'+ ++_0x452ae8;}while(_0x3fde02[_0x4131('0x4')][_0x4bbe5c]);return _0x4bbe5c;};const _0x191b22=_0x78666e=>{_0x3fde02[_0x4131('0x4')][_0x78666e['az']['id']]=_0x78666e;_0x3fde02[_0x4131('0x8')]['add'](_0x78666e['parent']);};const _0x3d8fa2=_0x3d8413=>_0x3fde02[_0x4131('0x4')][_0x3d8413];const _0x653a2c=(_0xfb2d57,_0x3e9b3c)=>{let _0x541e24=0x2bc*(_0x3e9b3c['now']['x']-_0x3e9b3c[_0x4131('0xe')]['x']);let _0x70e5d0=0x2bc*(_0x3e9b3c[_0x4131('0xf')]['y']-_0x3e9b3c[_0x4131('0xe')]['y']);if(_0xfb2d57[_0x4131('0x10')]){_0x3e9b3c[_0x4131('0x11')][_0x4131('0x12')]['position']['z']=_0x3e9b3c[_0x4131('0x13')]['z']-_0x541e24;_0x3e9b3c[_0x4131('0x11')][_0x4131('0x12')][_0x4131('0x14')]['y']=_0x3e9b3c[_0x4131('0x13')]['y']+_0x70e5d0;}else if(_0xfb2d57[_0x4131('0x15')]){_0x3e9b3c[_0x4131('0x11')]['parent'][_0x4131('0x14')]['x']=_0x3e9b3c[_0x4131('0x13')]['x']-_0x541e24;_0x3e9b3c[_0x4131('0x11')][_0x4131('0x12')][_0x4131('0x14')]['z']=_0x3e9b3c[_0x4131('0x13')]['z']+_0x70e5d0;}else{_0x3e9b3c[_0x4131('0x11')][_0x4131('0x12')][_0x4131('0x14')]['x']=_0x3e9b3c[_0x4131('0x13')]['x']-_0x541e24;_0x3e9b3c[_0x4131('0x11')][_0x4131('0x12')][_0x4131('0x14')]['y']=_0x3e9b3c[_0x4131('0x13')]['y']+_0x70e5d0;}_0x3fde02[_0x4131('0x16')]['setPositionSliders'](_0x3e9b3c[_0x4131('0x11')]);console[_0x4131('0xb')](_0x4131('0x17')+_0x3e9b3c[_0x4131('0xf')]['x']+'\x20'+_0x3e9b3c[_0x4131('0xf')]['y']);_0x3fde02[_0x4131('0x18')]();};const _0x9b2795=()=>{var _0xf7a22f=Object[_0x4131('0x19')](_0x3fde02['objects']);if(_0xf7a22f['length']){for(let _0x50c736 in _0x3fde02['objects']){if(_0x3fde02[_0x4131('0x4')][_0x4131('0x1a')](_0x50c736)){_0x466c47(_0x50c736);}}}};var _0x123dd7=function _0x123dd7(_0x453a4b){switch(_0x453a4b[_0x4131('0x1b')]){case _0x4131('0x1c'):return null;case _0x4131('0x1d'):return _0x462e2b[_0x4131('0x1e')];case _0x4131('0x7'):return _0x462e2b[_0x4131('0x1e')];case _0x4131('0x1f'):return _0x462e2b['optionalProtons'];case _0x4131('0x20'):return _0x462e2b[_0x4131('0x21')];case _0x4131('0x22'):return _0x462e2b[_0x4131('0x23')];case'outer-faces':return _0x462e2b[_0x4131('0x24')];}};const _0x2c4ee1=(_0x19a9c8,_0x5d7d9e)=>{if(_0x5d7d9e){_0x3fde02[_0x4131('0x25')][_0x4131('0x26')](_0x4131('0x27'),_0x4131('0x1c'));}else{_0x3fde02['controls'][_0x4131('0x26')]('prod_scene::setControlsObject',_0x4131('0x8'));}};const _0x493c3b=_0x5697bc=>{if(!_0x5697bc[_0x4131('0x28')])return null;if(_0x5697bc[0x0][_0x4131('0x11')]['az'])return _0x5697bc[0x0][_0x4131('0x11')]['az'][_0x4131('0x29')][_0x4131('0x2a')];return _0x5697bc[0x0][_0x4131('0x11')][_0x4131('0x12')][_0x4131('0x12')][_0x4131('0x12')]['az']['atom'];};const _0x5426e9=(_0x33b054,_0xa65530)=>{if(_0xa65530){_0x33b054[_0x4131('0x11')]=_0xa65530;_0x33b054[_0x4131('0x13')][_0x4131('0x2b')](_0xa65530[_0x4131('0x12')]['position']);_0x33b054[_0x4131('0x2c')][_0x4131('0x2b')](_0xa65530['rotation']);_0x3fde02[_0x4131('0x25')]['changeControlsSettings']({'enablePan':![]});}else{_0x33b054[_0x4131('0x11')]=null;_0x3fde02[_0x4131('0x25')][_0x4131('0x2d')]({'enablePan':!![]});}};const _0x3be77d=(_0x4ffc98,_0x2aacb6)=>{_0x4ffc98['preventDefault']();_0x3f301d=![];if(_0x2aacb6[_0x4131('0x1b')]==_0x4131('0x1d')){switch(_0x4ffc98[_0x4131('0x2e')]){case 0x1:break;case 0x2:break;case 0x3:_0x2aacb6['object']=null;break;}}else{_0x3fde02['dir_atom'][_0x4131('0x2f')](_0x4ffc98,_0x2aacb6);}};const _0x58deb7=(_0x19faec,_0x44a1e2)=>{_0x19faec[_0x4131('0x30')]();_0x3f301d=!![];switch(_0x44a1e2[_0x4131('0x1b')]){case _0x4131('0x1c'):return null;case _0x4131('0x1d'):let _0x9d5def=_0x493c3b(_0x3fde02[_0x4131('0x25')]['findIntersects'](_0x462e2b['visibleParticles']));switch(_0x19faec['which']){case 0x1:break;case 0x2:_0x3fde02[_0x4131('0x16')][_0x4131('0x31')](_0x9d5def);break;case 0x3:_0x5426e9(_0x44a1e2,_0x9d5def);break;}break;case _0x4131('0x7'):case _0x4131('0x1f'):case _0x4131('0x20'):case _0x4131('0x22'):case _0x4131('0x32'):_0x3fde02[_0x4131('0x33')][_0x4131('0x34')](_0x19faec,_0x44a1e2);break;}_0x3fde02[_0x4131('0x18')]();};let _0x20b93a=(_0x5b06d0,_0x28aa6a)=>{if(_0x28aa6a[_0x4131('0x11')]){_0x5b06d0['preventDefault']();_0x653a2c(_0x5b06d0,_0x28aa6a);}else{if(_0x28aa6a[_0x4131('0x35')]){console[_0x4131('0xb')](_0x4131('0x36')+_0x28aa6a[_0x4131('0x35')][_0x4131('0x28')]);}switch(_0x28aa6a[_0x4131('0x1b')]){case _0x4131('0x1c'):return null;case'atomsMove':if(!_0x3f301d){}_0x3fde02[_0x4131('0x33')][_0x4131('0x37')](_0x5b06d0,_0x28aa6a);break;case _0x4131('0x7'):case _0x4131('0x1f'):case'protonsColor':case _0x4131('0x22'):case _0x4131('0x32'):_0x3fde02[_0x4131('0x33')][_0x4131('0x37')](_0x5b06d0,_0x28aa6a);break;}}};const _0x5c823f=function(_0x26a1db){Drupal[_0x4131('0x38')][_0x4131('0x39')]['doAjax']('/ajax/loadMolecule',{'conf':_0x26a1db},_0x32af32);};const _0x32af32=function(_0x1d88be){for(var _0x595cea=0x0;_0x595cea<_0x1d88be[_0x4131('0x28')];_0x595cea++){if(_0x1d88be[_0x595cea][_0x4131('0x3a')]==_0x4131('0x3b')){_0x9b2795();_0x36811c();_0x3fde02[_0x4131('0x18')]();_0x3fde02['objects']={};let _0x58d952=_0x1d88be[_0x595cea][_0x4131('0x3c')];_0x3fde02[_0x4131('0x8')]['az']={'conf':_0x58d952[_0x4131('0x3d')],'title':_0x58d952[_0x4131('0x3e')],'name':_0x58d952[_0x4131('0xa')],'sceneNid':_0x58d952[_0x4131('0x3f')],'properties':_0x58d952[_0x4131('0x40')],'information':_0x58d952['information'],'link':_0x58d952[_0x4131('0x41')]};if(_0x1a0225){_0x1a0225[_0x4131('0x42')](_0x58d952[_0x4131('0x3e')]);}if(_0x30ba10&&_0x58d952[_0x4131('0x43')]){_0x30ba10['html'](_0x58d952[_0x4131('0x43')]);}if(_0x851e7a&&_0x58d952['properties']){_0x851e7a[_0x4131('0x42')](_0x58d952[_0x4131('0x40')]);}_0x3fde02[_0x4131('0x44')]['display']();localStorage[_0x4131('0x45')]('atomizer_scene_nid',_0x58d952[_0x4131('0x3d')][_0x4131('0x3f')]);_0x3fde02[_0x4131('0x16')]['moleculeLoaded'](_0x3fde02[_0x4131('0x8')]);objects={};for(let _0x333a64 in _0x58d952['conf'][_0x4131('0x4')]){let _0x57ba2b=_0x58d952[_0x4131('0x3d')][_0x4131('0x4')][_0x333a64];_0x57ba2b['id']=_0x333a64;_0x3fde02[_0x57ba2b[_0x4131('0x46')]][_0x4131('0x47')](_0x57ba2b);}}}};var _0x12582a=function(_0xc36ebe){_0xc36ebe['az']['id']=_0xc36ebe['az'][_0x4131('0x3d')]['id'];if(_0xc36ebe['az'][_0x4131('0x3d')][_0x4131('0x48')]){_0xc36ebe[_0x4131('0x48')]['x']=parseInt(Drupal[_0x4131('0x38')][_0x4131('0x39')]['toRadians'](_0xc36ebe['az'][_0x4131('0x3d')][_0x4131('0x48')][0x0]));_0xc36ebe[_0x4131('0x48')]['y']=parseInt(Drupal[_0x4131('0x38')][_0x4131('0x39')]['toRadians'](_0xc36ebe['az'][_0x4131('0x3d')]['rotation'][0x1]));_0xc36ebe[_0x4131('0x48')]['z']=parseInt(Drupal[_0x4131('0x38')][_0x4131('0x39')][_0x4131('0x49')](_0xc36ebe['az'][_0x4131('0x3d')]['rotation'][0x2]));}let _0x13851e=new THREE[(_0x4131('0x4a'))]();_0x13851e['name']=_0x4131('0x4b');if(_0xc36ebe['az']['conf'][_0x4131('0x14')]){_0x13851e['position'][_0x4131('0x4c')](..._0xc36ebe['az'][_0x4131('0x3d')][_0x4131('0x14')]);}_0x13851e[_0x4131('0x4d')](_0xc36ebe);_0x191b22(_0xc36ebe);_0x3fde02['dir_molecule'][_0x4131('0x4e')](_0xc36ebe);_0x3fde02[_0x4131('0x33')][_0x4131('0x4e')](_0xc36ebe);if(_0xc36ebe['az'][_0x4131('0x3d')][_0x4131('0x4f')]){_0x5426e9(_0x3fde02[_0x4131('0x25')]['mouse'],_0xc36ebe);}_0x3fde02[_0x4131('0x18')]();};let _0x34a445=function(){let _0x2105e8=_0x3fde02['canvas']['getContext']('2d');_0x3fde02['nuclet']=Drupal[_0x4131('0x38')]['nucletC'](_0x3fde02);_0x3fde02[_0x4131('0x2a')]=Drupal[_0x4131('0x38')]['atomC'](_0x3fde02);_0x3fde02[_0x4131('0x50')]=Drupal[_0x4131('0x38')][_0x4131('0x51')](_0x3fde02);_0x3fde02[_0x4131('0x52')]=Drupal[_0x4131('0x38')][_0x4131('0x53')](_0x3fde02);_0x3fde02[_0x4131('0x44')]=Drupal[_0x4131('0x38')][_0x4131('0x54')](_0x3fde02);_0x3fde02[_0x4131('0x55')]=Drupal[_0x4131('0x38')][_0x4131('0x56')](_0x3fde02);_0x3fde02['snapshot']=Drupal[_0x4131('0x38')][_0x4131('0x57')](_0x3fde02);_0x3fde02['dir_atom']=Drupal[_0x4131('0x38')][_0x4131('0x58')](_0x3fde02);_0x3fde02['atom_select']=Drupal[_0x4131('0x38')]['atom_selectC'](_0x3fde02,![]);_0x3fde02[_0x4131('0x16')]=Drupal[_0x4131('0x38')][_0x4131('0x59')](_0x3fde02);let _0x59a310=_0x306bc1('#select-molecule-wrapper\x20.select-item-wrapper\x20a');_0x306bc1('#select-molecule-wrapper\x20.select-item-wrapper\x20a')[_0x4131('0x5a')](_0x1b6546=>{let _0x514b06=_0x306bc1(_0x1b6546['target'])[_0x4131('0x5b')]('a');let _0x261b72=_0x514b06[_0x4131('0x3c')](_0x4131('0x3f'));_0x5c823f({'nid':_0x261b72});});_0x551dc0=localStorage[_0x4131('0x5c')]('atomizer_scene_nid');_0x551dc0=!_0x551dc0||_0x551dc0==_0x4131('0x5d')?0x523:_0x551dc0;_0x5c823f({'nid':_0x551dc0});};const _0x444b03=()=>{var _0x21af44=_0x306bc1('#blocks--mouse-mode',_0x3fde02[_0x4131('0x2')]);_0x2e27c7[_0x4131('0x5e')](_0x4131('0x5f'));if(_0x21af44[_0x4131('0x28')]){_0x3fde02[_0x4131('0x25')][_0x4131('0x60')][_0x4131('0x1b')]=_0x21af44[_0x4131('0x61')](_0x4131('0x62'))[_0x4131('0x63')]();var _0xbec695=_0x21af44[_0x4131('0x61')](_0x4131('0x64'));_0xbec695[_0x4131('0x5a')](function(_0x1c8417){console['log'](_0x4131('0x65')+_0x1c8417[_0x4131('0x66')]['value']);mouse[_0x4131('0x1b')]=_0x1c8417[_0x4131('0x66')]['value'];if(mouse[_0x4131('0x1b')]==_0x4131('0x20')){_0x2e27c7['removeClass']('az-hidden');}else{_0x2e27c7[_0x4131('0x5e')](_0x4131('0x5f'));}});_0x21af44['find']('#proton-original-color')['addClass'](_0x4131('0x67'));_0x3fde02['controls'][_0x4131('0x60')]['protonColor']='original';var _0x1443fa=_0x21af44[_0x4131('0x61')](_0x4131('0x68'));_0x1443fa[_0x4131('0x69')](function(){var _0x4607ef=_0x306bc1(this)[_0x4131('0x6a')]('id')[_0x4131('0x6b')]('-')[0x1];if(_0x4607ef!=_0x4131('0x6c')){var _0x2fbaee=_0x3fde02[_0x4131('0x6d')]['getColor'](_0x4131('0x6e')+_0x4607ef+_0x4131('0x6f'),_0x4131('0x70'));_0x306bc1(this)[_0x4131('0x71')](_0x4131('0x72'),_0x2fbaee['hex']);}});_0x1443fa[_0x4131('0x5a')](function(_0x305754){_0x1443fa['removeClass'](_0x4131('0x67'));_0x306bc1(this)[_0x4131('0x5e')]('selected');var _0x2b1fe6=_0x306bc1(this)['parent']()[_0x4131('0x12')]()[_0x4131('0x61')]('input');_0x2b1fe6[_0x4131('0x73')](_0x4131('0x74'),!![]);_0x3fde02[_0x4131('0x25')][_0x4131('0x60')][_0x4131('0x75')]=_0x2b1fe6[_0x4131('0x63')]();});}};const _0x3e8368=_0x5855f3=>{_0x3fde02[_0x4131('0x33')][_0x4131('0x76')](atom,_0x5855f3);};const _0x36811c=()=>{_0x462e2b={'visibleParticles':[],'visibleProtons':[],'visibleNElectrons':[],'hoverInnerFaces':[],'hoverOuterFaces':[],'optionalProtons':[]};};const _0x4fe5ca=()=>{let _0x53e53c=_0x3fde02[_0x4131('0x4')][_0x4131('0x28')];for(let _0x5e44ca in _0x3fde02['objects']){let _0x2c98ef=_0x3fde02['objects'][_0x5e44ca];if(_0x2c98ef['az'][_0x4131('0x3d')][_0x4131('0x46')]==_0x4131('0x2a')){_0x462e2b[_0x4131('0x1e')]=_0x462e2b[_0x4131('0x1e')][_0x4131('0x77')](_0x2c98ef['az'][_0x4131('0x78')][_0x4131('0x1e')]);_0x462e2b[_0x4131('0x21')]=_0x462e2b[_0x4131('0x21')][_0x4131('0x77')](_0x2c98ef['az'][_0x4131('0x78')][_0x4131('0x21')]);_0x462e2b[_0x4131('0x79')]=_0x462e2b[_0x4131('0x79')][_0x4131('0x77')](_0x2c98ef['az'][_0x4131('0x78')][_0x4131('0x79')]);_0x462e2b[_0x4131('0x7a')]=_0x462e2b[_0x4131('0x7a')][_0x4131('0x77')](_0x2c98ef['az']['intersect']['optionalProtons']);}}};_0x444b03();return{'createView':_0x34a445,'objectLoaded':_0x12582a,'createUniqueObjectKey':_0x5cb0e5,'getObject':_0x3d8fa2,'addObject':_0x191b22,'deleteObject':_0x466c47,'clearScene':_0x9b2795,'grabObject':_0x5426e9,'explode':_0x3e8368,'updateIntersectLists':_0x4fe5ca,'mouseUp':_0x3be77d,'mouseDown':_0x58deb7,'mouseMove':_0x20b93a,'intersect':_0x462e2b,'hoverObjects':_0x123dd7};};}(jQuery));